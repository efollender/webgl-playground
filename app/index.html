<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>BU Holiday</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
		<link href="build/index.css" rel="stylesheet">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<meta property="og:title" content="Happy Holidays"/>
		<meta property="og:url" content="http://www.brooklynunited.com/holidays-2015"/>
		<meta property="og:description" content="A winter wonderland in WebGL from Brooklyn United and Brooklyn Digital Foundry." />
		<meta property="og:image" content="http://s23.postimg.org/kgdxut7mz/Screen_Shot_2015_12_15_at_10_54_43_AM.png" />
	</head>
	<body class="tk-futura-pt">
		<div class="ui-container">
			<div id="canvas-3d" class="viewer"></div>
			<div class="welcome-screen">
				<div class="message-wrapper">
					<h2 class="welcome-text">Welcome to our<br/>winter wonderland</h2>
					<h2 class="closing-text">Happy Holidays<br/> from Brooklyn United + Brooklyn Digital Foundry</h2>
					<p class="welcome-text">
						A little holiday spirit can move mountains! Customize the scene for maximum joy.<br/><br/>
						Don’t mind our office cat, he’s just here to chill.
					</p>
					<p class="closing-text">
						This is an experimental collaboration between the visualization wizards at
						Brooklyn Digital Foundry and the design and development teams at Brooklyn
						United. Using WebGL and a little bit of holiday magic, we joined forces to
						whip up a scene for you to enjoy and share with your friends. <br/><br/>
						<a href="http://www.brooklynunited.com" target="_blank">
							See what else we can do
						</a>
					</p>
					<div class="start-button">
						<span class="fa fa-play-circle"></span>
						<span class="text">Start</span>
					</div>
					<div class="share-buttons">
						<div class="replay callout">
							<span class="callout-title">Replay</span>
							<div class="icon-wrapper social-wrap">
								<a href="" onClick="ga('send', 'event', ‘Holiday Card 2015’, ‘Holiday Card Replay, ‘Card Replay’);">
									<span class="repeat"></span>
								</a>
							</div>
						</div>
						<div class="social-wrapper callout">
							<span class="callout-title">Share</span>
							<div class="social-wrap icon-wrapper">
								<a href="mailto:?Subject=Happy%20Holidays%20from%20Brooklyn%20United%20and%20Brooklyn%20Digital%20Foundry&Body=Check%20out%20this%20winter%20wonderland%20coded%20in%20WebGL%20from%20Brooklyn%20United%20and%20Brooklyn%20Digital%20Foundry:%20www.brooklynunited.com/holidays-2015" onClick="ga('send', 'event', ‘Holiday Card 2015’, ‘Holiday Card Share’, ‘Email’);">
									<span class="email"></span>
								</a>
								<a href="#" onClick="window.open('https://www.facebook.com/sharer/sharer.php?u=www.brooklynunited.com/holidays-2015','share','resizable,height=360,width=470'); return false;">
									<span class="facebook"></span>
								</a>
								<a href="#" onClick="window.open('https://twitter.com/intent/tweet?text=A%20winter%20wonderland%20in%20%23WebGL&via=brooklynunited&url=http://www.brooklynunited.com/holidays-2015')">
									<span class="twitter"></span>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="border-animation">
				<div class="border-top"></div>
				<div class="border-right"></div>
				<div class="border-bottom">
					<div class="social-wrap">
						<a href="mailto:?Subject=Happy%20Holidays%20from%20Brooklyn%20United%20and%20Brooklyn%20Digital%20Foundry&Body=Check%20out%20this%20winter%20wonderland%20coded%20in%20WebGL%20from%20Brooklyn%20United%20and%20Brooklyn%20Digital%20Foundry:%20www.brooklynunited.com/holidays-2015" onClick="ga('send', 'event', ‘Holiday Card 2015’, ‘Holiday Card Share’, ‘Email’);">
							<span class="email"></span>
						</a>
						<a href="#" onClick="window.open('https://www.facebook.com/sharer/sharer.php?u=www.brooklynunited.com/holidays-2015','share','resizable,height=360,width=470'); return false;">
							<span class="facebook"></span>
						</a>
						<a href="#" onClick="window.open('https://twitter.com/intent/tweet?text=A%20winter%20wonderland%20in%20%23WebGL&via=brooklynunited&url=http://www.brooklynunited.com/holidays-2015')">
							<span class="twitter"></span>
						</a>
					</div>
					<div class="logo-wrap"></div>
				</div>
				<div class="border-left">
					<div class="marquee-wrap"></div>
				</div>
			</div>
			<div class="happy-holidays"></div>
			<div class="loading-message">
				<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
					 viewBox="0 0 438.5 63.8" style="enable-background:new 0 0 438.5 63.8;" xml:space="preserve" class="tk-futura-pt">
				<style type="text/css">
					.st0{fill:none;}
					.st1{fill:#FFFFFF;}
					.st3{font-size:21px;}
					.st4{fill:#2FBDBE;}
					.st5{font-size:10px;}
					.st6{opacity:0.4;fill:#2FBDBE;}
					.st7{fill:none;stroke:#2C2D60;stroke-width:3;stroke-miterlimit:10;}
					.st8{fill:none;stroke:#FFFFFF;stroke-width:4;stroke-miterlimit:10;}
					.st9{fill:#EFF6DF;}
					.st10{fill:#2C2D60;}
					.st11{fill:none;stroke:#2FBDBE;stroke-width:3;stroke-miterlimit:10;}
					.st12{fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}
					.st13{opacity:0.6;fill:#2FBDBE;}
					.st14{fill:none;stroke:#2C2D60;stroke-width:4;stroke-miterlimit:10;}
					.st15{fill:none;stroke:#2FBDBE;stroke-width:4;stroke-miterlimit:10;}
					.st16{fill:none;stroke:#2B2C60;stroke-width:3;stroke-miterlimit:10;}
					.st17{fill:none;stroke:#2FBDBE;stroke-width:2;stroke-miterlimit:10;}
					.st18{fill:#EAEAEA;}
				</style>
				<g>
					<rect x="185.1" y="2.7" class="st0" width="118.5" height="18.2"/>
					<text transform="matrix(1 0 0 1 188.5021 17.9998)" class="tk-futura-pt st1 st2 st3">LOADING...</text>
					<rect x="195" y="49.4" class="st0" width="97.8" height="11.1"/>
					<g>
						<polyline class="st7" points="158.2,11.5 158.2,26.9 173.7,26.9 		"/>
						<line class="st7" x1="102.4" y1="46.7" x2="134.5" y2="14.6"/>
						<line class="st7" x1="146.8" y1="37.7" x2="169.9" y2="14.6"/>
						<line class="st7" x1="377.5" y1="45.4" x2="345.5" y2="13.3"/>
						<line class="st7" x1="333.2" y1="36.4" x2="310.1" y2="13.3"/>
						<line class="st8" x1="92.5" y1="26.1" x2="384.3" y2="26.1"/>
						<polygon class="st9" points="357.8,53.4 362.8,50.4 367.8,53.4 367.8,59.5 362.8,62.5 357.8,59.5 		"/>
						<polygon class="st10" points="342.1,38.3 345.5,36.4 348.8,38.3 348.8,42.2 345.5,44.2 342.1,42.2 		"/>
						<polyline class="st7" points="377.5,45.4 387,45.4 427.8,45.2 		"/>
						<polyline class="st7" points="437.5,56.5 426.6,45.5 437.5,34.6 		"/>
						<polyline class="st7" points="422.2,56.5 411.3,45.5 422.2,34.6 		"/>
						<polyline class="st7" points="407.1,56.5 396.2,45.5 407.1,34.6 		"/>
						<line class="st11" x1="345.5" y1="13.3" x2="333.2" y2="36.4"/>
						<polygon class="st9" points="121.8,54.8 116.3,51.7 110.8,54.8 110.8,60.8 116.3,63.8 121.8,60.8 		"/>
						<polygon class="st9" points="5.8,14.5 2.8,12.9 -0.2,14.5 -0.2,17.8 2.8,19.5 5.8,17.8 		"/>
						<polygon class="st9" points="9.8,20 8.3,19.2 6.8,20 6.8,21.6 8.3,22.4 9.8,21.6 		"/>
						<polygon class="st10" points="34.8,27.4 28.3,23.7 21.8,27.4 21.8,34.8 28.3,38.5 34.8,34.8 		"/>
						<polygon class="st10" points="137.8,39.7 134.5,37.7 131.1,39.7 131.1,43.5 134.5,45.5 137.8,43.5 		"/>
						<polyline class="st7" points="103.5,46.7 94.1,46.7 52.2,46.6 		"/>
						<polyline class="st7" points="42.5,57.8 53.4,46.9 42.5,35.9 		"/>
						<polyline class="st7" points="57.7,57.8 68.6,46.9 57.7,35.9 		"/>
						<polyline class="st7" points="72.8,57.8 83.8,46.9 72.8,35.9 		"/>
						<line class="st11" x1="134.5" y1="14.6" x2="146.8" y2="37.7"/>
						<polyline class="st7" points="169.7,0 169.7,15.4 185.1,15.4 		"/>
						<line class="st12" x1="362.5" y1="11.8" x2="416.8" y2="11.8"/>

					</g>
				</g>
				</svg>
				<span>Loading...</span>
				<div class="loading-progress">
					<div class="progress-bar"></div>
					<div class="progress-text">Textures</div>
				</div>
			</div>
			<div class="cat-controls">
					<div class="key trigger" id="volume"></div>
					<div class="key trigger" id="mountains"></div>
					<!-- <div class="key trigger" id="paw"></div> -->
					<div class="key slider" id="slider">
						<input type="range" min="0" max="100" value="50" id="fader" step="1" oninput="onRange(value)">
					</div>
				</div>
		</div>
		<!-- <script src="https://cdn.rawgit.com/nicolas-van/snoweffect/gh-pages/static/all.js"></script> -->
		<script type="x-shader/x-vertex" id="vertexshader">

			attribute float size;
			attribute float time;
			attribute vec3 customColor;
			uniform float globalTime;

			varying vec3 vColor;
			varying float fAlpha;

			void main() {

				vColor = customColor;

				vec3 pos = position;

				// time
				float localTime = time + globalTime;
				float modTime = mod( localTime, 1.0 );
				float accTime = modTime * modTime;

				pos.x += cos(modTime*10.0 + (position.z))*70.0;
				pos.z += sin(modTime*6.0 + (position.x))*100.0;

				fAlpha = (pos.z)/1800.0;

				vec3 animated = vec3( pos.x, pos.y * accTime, pos.z );

				vec4 mvPosition = modelViewMatrix * vec4( animated, 1.0 );

				gl_PointSize = min(150.0, size * ( 150.0 / length( mvPosition.xyz ) ) );

				gl_Position = projectionMatrix * mvPosition;

			}

		</script>

		<script type="x-shader/x-fragment" id="fragmentshader">

			uniform vec3 color;
			uniform sampler2D texture;

			varying vec3 vColor;
			varying float fAlpha;

			void main() {

				gl_FragColor = vec4( color * vColor, fAlpha );
				gl_FragColor = gl_FragColor * texture2D( texture, gl_PointCoord );

			}

		</script>
		<script src="assets/libs/three/three.min.js"></script>
		<!-- External libraries -->
		<script src="assets/libs/RequestAnimationFrame.js"></script>
		<script src="assets/libs/jquery.min.js"></script>
		<script src="assets/libs/three/OBJLoader.js"></script>
		<script src="assets/libs/three/OrbitControls.js"></script>
		<script src="assets/libs/FastBlur.js"></script>

		<!-- Terrain generator -->
		<script src="assets/libs/terrain-generator/mersenne-twister.js"></script>
		<script src="assets/libs/terrain-generator/blur.js"></script>
		<script src="assets/libs/terrain-generator/destructure.js"></script>
		<script src="assets/libs/terrain-generator/mountains.js"></script>
		<script src="assets/libs/terrain-generator/perlinnoise.js"></script>
		<script src="assets/libs/terrain-generator/terraingen.js"></script>
		<script src="assets/libs/terrain-generator/circle.js"></script>

		<!-- Water shader -->
		<script src="assets/js/water-material.js"></script>

		<!-- Demo files -->
		<script src="assets/js/window.js"></script>
		<script src="build/build.js"></script>
		<script src="https://use.typekit.net/bik8own.js"></script>
	<script>try{Typekit.load({ async: true });}catch(e){}</script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-20769653-1', 'auto');
	  ga('send', 'pageview');

	</script>
	</body>
</html>
