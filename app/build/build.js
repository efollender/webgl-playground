(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

let animation,
    helpers = [],
    mixers = [],
    pushed = false;
let clock = new THREE.Clock();
let ready = false;
let reducing = false;
let isFrameStepping = false;
let timeToStep = 0;

class Demo {
	constructor() {
		this.ms_Canvas = null;
		this.ms_Renderer = null;
		this.ms_Camera = null;
		this.ms_Scene = null;
		this.ms_Controls = null;
		this.ms_Water = null;
		this.ms_Terrain = null;
		this.ms_Raycaster = null;
		this.ms_Clickable = [];
		this.ms_Parameters = null;
		this.ms_particleSystem = null;
	}
	enable() {
		try {
			var aCanvas = document.createElement('canvas');
			return !!window.WebGLRenderingContext && (aCanvas.getContext('webgl') || aCanvas.getContext('experimental-webgl'));
		} catch (e) {
			return false;
		}
	}
	initialize(inIdCanvas, inParameters) {
		this.ms_Canvas = $('#' + inIdCanvas);
		this.ms_Parameters = inParameters;
		// Initialize Renderer, Camera, Projector and Scene
		this.ms_Renderer = this.enable ? new THREE.WebGLRenderer({ antialias: true }) : new THREE.CanvasRenderer();
		this.ms_Canvas.html(this.ms_Renderer.domElement);
		this.ms_Scene = new THREE.Scene();
		this.ms_Camera = new THREE.PerspectiveCamera(45.0, WINDOW.ms_Width / WINDOW.ms_Height, 0.5, 3000000);
		this.ms_Camera.position.set(.2, -Math.max(inParameters.width * 1.5, inParameters.height) / 8, inParameters.height);
		this.ms_Camera.lookAt(new THREE.Vector3(0, 0, 0));

		this.ms_Raycaster = new THREE.Raycaster();

		// Initialize Orbit control		
		this.ms_Controls = new THREE.OrbitControls(this.ms_Camera, this.ms_Renderer.domElement);
		this.ms_Controls.userPan = false;
		this.ms_Controls.userPanSpeed = 0.0;
		this.ms_Controls.maxDistance = 4000.0;
		this.ms_Controls.enableKeys = false;
		this.ms_Controls.maxPolarAngle = Math.PI * .495;
		this.ms_Controls.minPolarAngle = .5;
		this.ms_Controls.maxAzimuthAngle = 1;
		this.ms_Controls.minAzimuthAngle = -1;

		// Add light

		var ambient = new THREE.AmbientLight(0x888888);
		this.ms_Scene.add(ambient);
		//Left Light
		var directionalLight = new THREE.DirectionalLight(0x888888, .9);
		directionalLight.position.set(-600, 300, 600);
		this.ms_Scene.add(directionalLight);
		//Right light
		var directionalLight2 = new THREE.DirectionalLight(0x888888, .8);
		directionalLight2.position.set(600, 800, 600);
		this.ms_Scene.add(directionalLight2);
		//Bottom Light
		var directionalLight3 = new THREE.DirectionalLight(0x888888, .15);
		directionalLight3.position.set(0, 0, 1000);
		this.ms_Scene.add(directionalLight3);
		//Back Light
		var directionalLight4 = new THREE.DirectionalLight(0x77D0FF, .5);
		directionalLight4.position.set(0, 600, -600);
		this.ms_Scene.add(directionalLight4);

		// Create terrain
		this.loadTerrain(inParameters);

		// Load textures		
		var waterNormals = new THREE.ImageUtils.loadTexture('../assets/img/waternormals.jpg');
		waterNormals.wrapS = waterNormals.wrapT = THREE.SphericalReflectionMapping;

		// Create the water effect
		this.ms_Water = new THREE.Water(this.ms_Renderer, this.ms_Camera, this.ms_Scene, {
			textureWidth: 512,
			textureHeight: 512,
			waterNormals: waterNormals,
			alpha: 1.0,
			sunDirection: directionalLight.position.normalize(),
			sunColor: 0xFFFFFF,
			waterColor: 0x8F81A1,
			distortionScale: 20.0
		});
		var aMeshMirror = new THREE.Mesh(new THREE.PlaneBufferGeometry(inParameters.width * 500, inParameters.height * 500, 10, 10), this.ms_Water.material);
		aMeshMirror.add(this.ms_Water);
		aMeshMirror.rotation.x = -Math.PI * 0.5;
		this.ms_Scene.add(aMeshMirror);

		//Load objects	
		this.loadSkyBox();
		this.loadGlaciers(1, 1000, 200, .1);
		this.loadGlaciers(2, 900, -1000, .2);
		this.loadGlaciers(2, 1500, -3000, .3);
		for (var x = 3; x > 0; x--) {
			this.loadIce(x, 1000, 0, 1);
			this.loadIce(x, 400, x * 200, x);
			this.loadIce(x, 2000, x * 600, 1);
			this.loadIce(x, 2000, x * -700, 1);
			this.loadIce(x, 800, x * -800, 1.4);
		}
		this.loadCat();
		// this.loadSnow(inParameters);

		//Listen for trigger
		const mountains = document.getElementById('mountains');
		const paw = document.getElementById('paw');
		paw.addEventListener('click', () => {
			this.handleButton();
		});
		mountains.addEventListener('click', () => {
			this.ms_Terrain.callback();
		});
		this.handleKeyDown();

		//Audio
		let happyHolidays = document.getElementsByClassName('welcome-screen')[0].cloneNode(true);
		happyHolidays.className += ' closing-screen';
		happyHolidays.getElementsByTagName('h2')[0].textContent = 'Happy Holidays\n' + 'from Brooklyn United + Brooklyn Digital Foundry';
		happyHolidays.getElementsByTagName('p')[0].textContent = 'This is an experimental ' + 'collaboration between the visualization wizards at Brooklyn Digital ' + 'Foundry and the design and development teams at Brooklyn United. ' + 'Using WebGL and a little bit of holiday magic, we joined forces to ' + 'whip up a scene for you to enjoy and share with your friends.';
		let audio = document.createElement('audio');
		const source = document.createElement('source');
		source.src = 'assets/sounds/Visager_-_19_-_Village_Dreaming_Loop.mp3';
		audio.loop = false;
		audio.appendChild(source);
		audio.play();
		audio.addEventListener('ended', e => {
			console.log('ended');
			document.getElementsByClassName('ui-container')[0].appendChild(happyHolidays);
		});

		//allow zoom
		setTimeout(() => {
			ready = true;
		}, 7500);
	}
	loadSkyBox() {
		let skyTexture = THREE.ImageUtils.loadTexture('assets/img/gradient_03.jpg');
		skyTexture.wrapS = skyTexture.wrapT = THREE.RepeatWrapping;
		skyTexture.repeat.set(3, 3);
		skyTexture.format = THREE.RGBFormat;

		let aShader = THREE.ShaderLib['phong'];
		aShader.uniforms['map'].value = skyTexture;

		// var aSkyBoxMaterial = new THREE.ShaderMaterial({
		// fragmentShader: aShader.fragmentShader,
		// vertexShader: aShader.vertexShader,
		// uniforms: aShader.uniforms,
		//   depthWrite: false,
		//   side: THREE.BackSide
		// });

		var aSkybox = new THREE.Mesh(new THREE.SphereGeometry(10000, 32, 32), new THREE.MeshPhongMaterial({
			map: skyTexture,
			side: THREE.BackSide,
			vertexColors: THREE.FaceColors,
			shading: THREE.SmoothShading
		}));

		this.ms_Scene.add(aSkybox);
	}
	loadTerrain(inParameters) {
		var terrainGeo = TERRAINGEN.Get(inParameters);
		var iceTexture = THREE.ImageUtils.loadTexture('assets/img/texture_001.jpg');
		var terrainMaterial = new THREE.MeshPhongMaterial({
			map: iceTexture,
			shading: THREE.FlatShading,
			side: THREE.DoubleSide,
			color: new THREE.Color(0xCCCCEE)
		});
		this.ms_Terrain = new THREE.Mesh(terrainGeo, terrainMaterial);
		this.ms_Terrain.position.y = -inParameters.depth * 2;
		this.ms_Terrain.position.z = -4000;
		this.ms_Terrain.callback = () => {
			// console.log(this.ms_Terrain.position.y);
			if (this.ms_Terrain.position.y <= -inParameters.depth) {
				reducing = false;
				this.ms_Scene.remove(this.ms_Terrain);
				this.loadTerrain(inParameters);
			} else {
				reducing = true;
			}
		};
		// this.ms_Clickable.push(this.ms_Terrain);
		this.ms_Scene.add(this.ms_Terrain);
	}
	loadGlaciers(index, z, x, scale) {
		var objLoader = new THREE.OBJLoader();
		var ms_Scene = this.ms_Scene;
		var iceTexture = THREE.ImageUtils.loadTexture('assets/img/texture_001.jpg');
		objLoader.load(`assets/landscape_assets/glacier_0${ index }.obj`, function (glacier) {
			//load ice texture
			for (var i = 0; i < glacier.children.length; i++) {
				glacier.children[i].geometry.computeFaceNormals();
				glacier.children[i].geometry.computeVertexNormals();
				console.log('glacier', glacier);
				glacier.children[i].material = new THREE.MeshPhongMaterial({
					map: iceTexture,
					shading: THREE.FlatShading,
					color: new THREE.Color(0xCCCCEE),
					side: THREE.DoubleSide
				});
			}
			glacier.position.z = z;
			glacier.position.x = x;
			glacier.scale.set(scale, scale, scale);
			ms_Scene.add(glacier);
		});
	}
	loadIce(index, z, x, scale) {
		const objLoader = new THREE.OBJLoader();
		const ms_Scene = this.ms_Scene;
		const iceTexture = THREE.ImageUtils.loadTexture('assets/img/texture_001.jpg');
		objLoader.load(`assets/landscape_assets/floe_0${ index }.obj`, glacier => {
			//load ice texture
			for (var i = 0; i < glacier.children.length; i++) {
				const geometry = glacier.children[i].geometry;
				geometry.computeFaceNormals();
				geometry.computeVertexNormals();
				glacier.children[i].receiveShadow = true;
				// console.log('ice', glacier);source
				// MOUNTAINS_COLORS.Apply(geometry, this.ms_Parameters);
				glacier.children[i].material = new THREE.MeshPhongMaterial({
					map: iceTexture,
					shading: THREE.FlatShading,
					color: new THREE.Color(0xCCCCEE)
				});
			}
			glacier.position.z = z;
			glacier.position.x = x;
			glacier.receiveShadow = true;
			glacier.scale.set(scale, 8, scale);
			ms_Scene.add(glacier);
		});
	}
	loadSnow(inParameters) {
		const rand = v => {
			return v * (Math.random() - 0.5);
		};
		const texture = THREE.TextureLoader('assets/img/snowflake.png');
		let numParticles = 100000;
		let width = inParameters.width;
		let height = inParameters.height / 3;
		let depth = 10000;
		let parameters = {
			color: 0xFFFFFF,
			height: 80000,
			radiusX: 10,
			radiusZ: 10,
			size: 100,
			scale: 1.0,
			opacity: 0.8,
			speedH: .1,
			speedV: .1
		};
		let systemGeometry = new THREE.Geometry();
		let systemMaterial = new THREE.ShaderMaterial({
			uniforms: {
				color: { type: 'c', value: new THREE.Color(parameters.color) },
				height: { type: 'f', value: parameters.height },
				elapsedTime: { type: 'f', value: 0 },
				radiusX: { type: 'f', value: parameters.radiusX },
				radiusZ: { type: 'f', value: parameters.radiusZ },
				size: { type: 'f', value: parameters.size },
				scale: { type: 'f', value: parameters.scale },
				texture: { type: 't', value: texture },
				opacity: { type: 'f', value: parameters.opacity },
				speedH: { type: 'f', value: parameters.speedH },
				speedV: { type: 'f', value: parameters.speedV }
			},
			vertexShader: document.getElementById('step07_vs').textContent,
			fragmentShader: document.getElementById('step09_fs').textContent,
			blending: THREE.AdditiveBlending,
			transparent: true,
			depthTest: false
		});

		for (var i = 0; i < numParticles; i++) {
			var vertex = new THREE.Vector3(rand(width), Math.random() * height, rand(depth));

			systemGeometry.vertices.push(vertex);
		}

		this.ms_particleSystem = new THREE.Points(systemGeometry, systemMaterial);
		this.ms_particleSystem.position.y = -height / 2;
		this.ms_Scene.add(this.ms_particleSystem);
	}
	loadCat() {
		const jsonLoader = new THREE.JSONLoader();
		jsonLoader.load("assets/js/cat_animated.js", (geometry, materials) => {
			this.loadAnimation(geometry, materials, 0, 30, 1000, 15, this.ms_Scene, "assets/img/cat_diffuse.jpg");
		});
		jsonLoader.load("assets/js/cat_animated_hat.js", (geometry, materials) => {
			this.loadAnimation(geometry, materials, 0, 30, 1000, 15, this.ms_Scene, "assets/img/hat_diffuse.jpg");
		});
	}
	loadAnimation(geometry, materials, x, y, z, s, scene, texture) {
		let mixer;
		const objTexture = THREE.ImageUtils.loadTexture(texture);
		geometry.computeFaceNormals();
		// geometry.computeVertexNormals();
		geometry.dynamic = true;
		geometry.__dirtyVertices = true;
		geometry.__dirtyNormals = true;

		//Flip normals
		for (var i = 0; i < geometry.faces.length; i++) {
			geometry.faces[i].normal.x = -1 * geometry.faces[i].normal.x;
			geometry.faces[i].normal.y = -1 * geometry.faces[i].normal.y;
			geometry.faces[i].normal.z = -1 * geometry.faces[i].normal.z;
		}

		for (let i = 0; i < materials.length; i++) {
			let m = materials[i];
			m.skinning = true;
			m.shading = THREE.FlatShading;
			m.shininess = 100;
			m.map = objTexture;
			m.color = new THREE.Color(0xbbbbbb);
			m.vertexColors = THREE.FaceColors;
		}

		let cat_mesh = new THREE.SkinnedMesh(geometry, materials[0]);
		// cat_mesh.rotation.x = Math.PI * -.5;
		cat_mesh.position.set(x, y, z);
		cat_mesh.scale.set(s, s, s);
		cat_mesh.castShadow = true;
		cat_mesh.receiveShadow = true;
		scene.add(cat_mesh);

		let clipBones = geometry.animations[0];
		let boneAction = new THREE.AnimationAction(clipBones);
		boneAction.loop = THREE.LoopOnce;
		boneAction.loopCount = 1;
		boneAction.actionTime = 2;
		mixer = new THREE.AnimationMixer(cat_mesh);
		mixer.addAction(boneAction);
		mixers.push(mixer);
	}
	display() {
		this.ms_Water.render();
		this.ms_Renderer.render(this.ms_Scene, this.ms_Camera);
	}
	initialZoom() {
		let fov = this.ms_Camera.fov;
		let zoom = this.ms_Camera.zoom;
		const inc = 0.01;
		if (zoom < 2) {
			this.ms_Camera.zoom += inc;
			this.ms_Camera.updateProjectionMatrix();
		} else {
			ready = false;
		}
	}
	update() {
		const inParameters = this.ms_Parameters;
		this.ms_Water.material.uniforms.time.value += 1.0 / 60.0;

		if (reducing) {
			this.ms_Terrain.position.y -= 20;
			this.ms_Terrain.callback();
		}
		if (this.ms_Terrain.position.y < -inParameters.depth * 0.5 && !reducing) {
			this.ms_Terrain.position.y += 20;
		}
		let delta = clock.getDelta();
		let elapsedTime = clock.getElapsedTime();

		if (this.ms_particleSystem) {
			this.ms_particleSystem.material.uniforms.elapsedTime.value = elapsedTime * 10;
		}

		if (mixers.length) {
			for (var i = 0; i < mixers.length; i++) {
				mixers[i].update(delta);
			}
		}
		if (ready) this.initialZoom();
		this.ms_Controls.update();
		this.display();
	}
	handleButton() {
		pushed = true;
		for (var i = 0; i < mixers.length; i++) {
			for (var y = 0; y < mixers[i].actions.length; y++) {
				mixers[i].actions[y].enabled = true;
				mixers[i].actions[y].loopCount = 0;
				mixers[i].actions[y].loop = THREE.LoopOnce;
				mixers[i].actions[y].actionTime = 0;
			}
		}
	}
	handleKeyDown() {
		document.addEventListener('keydown', e => {
			switch (e.keyCode) {
				case 69:
					this.ms_Terrain.callback();
					break;
				case 87:
				case 81:
					this.handleButton();
					break;
				default:
					break;
			}
		});
	}
	resize(inWidth, inHeight) {
		this.ms_Camera.aspect = inWidth / inHeight;
		this.ms_Camera.updateProjectionMatrix();
		this.ms_Renderer.setSize(inWidth, inHeight);
		this.ms_Canvas.html(this.ms_Renderer.domElement);
		this.display();
	}
};

const DEMO = new Demo();

function mainLoop() {
	requestAnimationFrame(mainLoop);
	DEMO.update();
}

function onDocumentMouseDown(event) {
	event.preventDefault();
	var mouse = new THREE.Vector2(event.clientX / window.innerWidth * 2 - 1, -(event.clientY / window.innerHeight) * 2 + 1);

	DEMO.ms_Raycaster.setFromCamera(mouse, DEMO.ms_Camera);
	var intersects = DEMO.ms_Raycaster.intersectObjects(DEMO.ms_Clickable);

	if (intersects.length > 0) {
		intersects[0].object.callback();
	}
}

$(function () {
	WINDOW.initialize();

	document.addEventListener('click', onDocumentMouseDown, false);

	var parameters = {
		alea: RAND_MT,
		generator: PN_GENERATOR,
		width: 20000,
		height: 14000,
		widthSegments: 120,
		heightSegments: 120,
		depth: 3000,
		param: 9.2,
		filterparam: .1,
		filter: [CIRCLE_FILTER],
		postgen: [MOUNTAINS_COLORS],
		effect: [DESTRUCTURE_EFFECT]
	};

	DEMO.initialize('canvas-3d', parameters);

	WINDOW.resizeCallback = function (inWidth, inHeight) {
		DEMO.resize(inWidth, inHeight);
	};
	DEMO.resize(WINDOW.ms_Width, WINDOW.ms_Height);

	mainLoop();

	//CSS animations

	const welcome = document.getElementsByClassName('welcome-screen')[0];
	welcome.addEventListener('click', e => {
		welcome.className += ' fade-out';
		setTimeout(() => {
			welcome.parentNode.removeChild(welcome);
		}, 350);
	});
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxTQUFTO0lBQUUsT0FBTyxHQUFHLEVBQUU7SUFBRSxNQUFNLEdBQUcsRUFBRTtJQUFFLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDekQsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDOUIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ2xCLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztBQUNyQixJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUM7QUFDNUIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDOztBQUluQixNQUFNLElBQUksQ0FBQztBQUNWLFlBQVcsR0FBRztBQUNiLE1BQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLE1BQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3hCLE1BQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLE1BQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3JCLE1BQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3hCLE1BQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3JCLE1BQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLE1BQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO0FBQ3pCLE1BQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCLE1BQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzFCLE1BQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7RUFDOUI7QUFDRCxPQUFNLEdBQUc7QUFDRixNQUFJO0FBQ0EsT0FBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztB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SUFBSTtBQUNYLE9BQUssRUFBRSxHQUFHO0FBQ1YsYUFBVyxFQUFFLEVBQUU7QUFDZixRQUFNLEVBQUUsQ0FBRSxhQUFhLENBQUU7QUFDekIsU0FBTyxFQUFFLENBQUUsZ0JBQWdCLENBQUU7QUFDN0IsUUFBTSxFQUFFLENBQUUsa0JBQWtCLENBQUU7RUFDOUIsQ0FBQzs7QUFFRixLQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUMsQ0FBQzs7QUFFekMsT0FBTSxDQUFDLGNBQWMsR0FBRyxVQUFTLE9BQU8sRUFBRSxRQUFRLEVBQUU7QUFBRSxNQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztFQUFFLENBQUM7QUFDeEYsS0FBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFL0MsU0FBUSxFQUFFOzs7O0FBQUMsQUFJWCxPQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsc0JBQXNCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyRSxRQUFPLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBSTtBQUN0QyxTQUFPLENBQUMsU0FBUyxJQUFJLFdBQVcsQ0FBQztBQUNqQyxZQUFVLENBQUMsTUFBSTtBQUNkLFVBQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ3hDLEVBQUUsR0FBRyxDQUFDLENBQUM7RUFDUixDQUFDLENBQUM7Q0FDSCxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmxldCBhbmltYXRpb24sIGhlbHBlcnMgPSBbXSwgbWl4ZXJzID0gW10sIHB1c2hlZCA9IGZhbHNlO1xubGV0IGNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG5sZXQgcmVhZHkgPSBmYWxzZTtcbmxldCByZWR1Y2luZyA9IGZhbHNlO1xubGV0IGlzRnJhbWVTdGVwcGluZyA9IGZhbHNlO1xubGV0IHRpbWVUb1N0ZXAgPSAwO1xuXG5cblxuY2xhc3MgRGVtbyB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMubXNfQ2FudmFzID0gbnVsbDtcblx0XHR0aGlzLm1zX1JlbmRlcmVyID0gbnVsbDtcblx0XHR0aGlzLm1zX0NhbWVyYSA9IG51bGw7XG5cdFx0dGhpcy5tc19TY2VuZSA9IG51bGw7XG5cdFx0dGhpcy5tc19Db250cm9scyA9IG51bGw7XG5cdFx0dGhpcy5tc19XYXRlciA9IG51bGw7XG5cdFx0dGhpcy5tc19UZXJyYWluID0gbnVsbDtcblx0XHR0aGlzLm1zX1JheWNhc3RlciA9IG51bGw7XG5cdFx0dGhpcy5tc19DbGlja2FibGUgPSBbXTtcblx0XHR0aGlzLm1zX1BhcmFtZXRlcnMgPSBudWxsO1xuXHRcdHRoaXMubXNfcGFydGljbGVTeXN0ZW0gPSBudWxsO1xuXHR9XG5cdGVuYWJsZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICByZXR1cm4gISEgd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCAmJiAoYUNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGFDYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gIH1cblx0aW5pdGlhbGl6ZShpbklkQ2FudmFzLCBpblBhcmFtZXRlcnMpIHtcblx0XHR0aGlzLm1zX0NhbnZhcyA9ICQoJyMnK2luSWRDYW52YXMpO1xuXHRcdHRoaXMubXNfUGFyYW1ldGVycyA9IGluUGFyYW1ldGVycztcblx0XHQvLyBJbml0aWFsaXplIFJlbmRlcmVyLCBDYW1lcmEsIFByb2plY3RvciBhbmQgU2NlbmVcblx0XHR0aGlzLm1zX1JlbmRlcmVyID0gdGhpcy5lbmFibGUgPyBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KSA6IG5ldyBUSFJFRS5DYW52YXNSZW5kZXJlcigpO1xuXHRcdHRoaXMubXNfQ2FudmFzLmh0bWwodGhpcy5tc19SZW5kZXJlci5kb21FbGVtZW50KTtcblx0XHR0aGlzLm1zX1NjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG5cdFx0dGhpcy5tc19DYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUuMCwgV0lORE9XLm1zX1dpZHRoIC8gV0lORE9XLm1zX0hlaWdodCwgMC41LCAzMDAwMDAwKTtcblx0XHR0aGlzLm1zX0NhbWVyYS5wb3NpdGlvbi5zZXQoLjIsIC1NYXRoLm1heChpblBhcmFtZXRlcnMud2lkdGggKiAxLjUsIGluUGFyYW1ldGVycy5oZWlnaHQpIC8gOCwgaW5QYXJhbWV0ZXJzLmhlaWdodCk7XG5cdFx0dGhpcy5tc19DYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApKTtcblxuXHRcdHRoaXMubXNfUmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuXHRcdFxuXHRcdC8vIEluaXRpYWxpemUgT3JiaXQgY29udHJvbFx0XHRcblx0XHR0aGlzLm1zX0NvbnRyb2xzID0gbmV3IFRIUkVFLk9yYml0Q29udHJvbHModGhpcy5tc19DYW1lcmEsIHRoaXMubXNfUmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cdFx0dGhpcy5tc19Db250cm9scy51c2VyUGFuID0gZmFsc2U7XG5cdFx0dGhpcy5tc19Db250cm9scy51c2VyUGFuU3BlZWQgPSAwLjA7XG5cdFx0dGhpcy5tc19Db250cm9scy5tYXhEaXN0YW5jZSA9IDQwMDAuMDtcblx0XHR0aGlzLm1zX0NvbnRyb2xzLmVuYWJsZUtleXMgPSBmYWxzZTtcblx0XHR0aGlzLm1zX0NvbnRyb2xzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJICogLjQ5NTtcblx0XHR0aGlzLm1zX0NvbnRyb2xzLm1pblBvbGFyQW5nbGUgPSAuNTtcblx0XHR0aGlzLm1zX0NvbnRyb2xzLm1heEF6aW11dGhBbmdsZSA9IDE7XG5cdFx0dGhpcy5tc19Db250cm9scy5taW5BemltdXRoQW5nbGUgPSAtMTtcblx0XG5cdFx0Ly8gQWRkIGxpZ2h0XG5cblx0XHR2YXIgYW1iaWVudCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoIDB4ODg4ODg4KTtcblx0XHR0aGlzLm1zX1NjZW5lLmFkZChhbWJpZW50KTtcblx0XHQvL0xlZnQgTGlnaHRcblx0XHR2YXIgZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ODg4ODg4LCAuOSk7XG5cdFx0ZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoLTYwMCwgMzAwLCA2MDApO1xuXHRcdHRoaXMubXNfU2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHQpO1xuXHRcdC8vUmlnaHQgbGlnaHRcblx0XHR2YXIgZGlyZWN0aW9uYWxMaWdodDIgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweDg4ODg4OCwgLjgpO1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQyLnBvc2l0aW9uLnNldCg2MDAsIDgwMCwgNjAwKTtcblx0XHR0aGlzLm1zX1NjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0Mik7XG5cdFx0Ly9Cb3R0b20gTGlnaHRcblx0XHR2YXIgZGlyZWN0aW9uYWxMaWdodDMgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweDg4ODg4OCwgLjE1KTtcblx0XHRkaXJlY3Rpb25hbExpZ2h0My5wb3NpdGlvbi5zZXQoMCwgMCwgMTAwMCk7XG5cdFx0dGhpcy5tc19TY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodDMpO1xuXHRcdC8vQmFjayBMaWdodFxuXHRcdHZhciBkaXJlY3Rpb25hbExpZ2h0NCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4NzdEMEZGLCAuNSk7XG5cdFx0ZGlyZWN0aW9uYWxMaWdodDQucG9zaXRpb24uc2V0KDAsIDYwMCwgLTYwMCk7XG5cdFx0dGhpcy5tc19TY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodDQpO1xuXHRcdFxuXHRcdC8vIENyZWF0ZSB0ZXJyYWluXG5cdFx0dGhpcy5sb2FkVGVycmFpbihpblBhcmFtZXRlcnMpO1xuXHRcdFxuXHRcdC8vIExvYWQgdGV4dHVyZXNcdFx0XG5cdFx0dmFyIHdhdGVyTm9ybWFscyA9IG5ldyBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKCcuLi9hc3NldHMvaW1nL3dhdGVybm9ybWFscy5qcGcnKTtcblx0XHR3YXRlck5vcm1hbHMud3JhcFMgPSB3YXRlck5vcm1hbHMud3JhcFQgPSBUSFJFRS5TcGhlcmljYWxSZWZsZWN0aW9uTWFwcGluZzsgXG5cdFx0XG5cdFx0Ly8gQ3JlYXRlIHRoZSB3YXRlciBlZmZlY3Rcblx0XHR0aGlzLm1zX1dhdGVyID0gbmV3IFRIUkVFLldhdGVyKHRoaXMubXNfUmVuZGVyZXIsIHRoaXMubXNfQ2FtZXJhLCB0aGlzLm1zX1NjZW5lLCB7XG5cdFx0XHR0ZXh0dXJlV2lkdGg6IDUxMiwgXG5cdFx0XHR0ZXh0dXJlSGVpZ2h0OiA1MTIsXG5cdFx0XHR3YXRlck5vcm1hbHM6IHdhdGVyTm9ybWFscyxcblx0XHRcdGFscGhhOiBcdDEuMCxcblx0XHRcdHN1bkRpcmVjdGlvbjogZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5ub3JtYWxpemUoKSxcblx0XHRcdHN1bkNvbG9yOiAweEZGRkZGRixcblx0XHRcdHdhdGVyQ29sb3I6IDB4OEY4MUExLFxuXHRcdFx0ZGlzdG9ydGlvblNjYWxlOiAyMC4wXG5cdFx0fSk7XG5cdFx0dmFyIGFNZXNoTWlycm9yID0gbmV3IFRIUkVFLk1lc2goXG5cdFx0XHRuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeShpblBhcmFtZXRlcnMud2lkdGggKiA1MDAsIGluUGFyYW1ldGVycy5oZWlnaHQgKiA1MDAsIDEwLCAxMCksIFxuXHRcdFx0dGhpcy5tc19XYXRlci5tYXRlcmlhbFxuXHRcdCk7XG5cdFx0YU1lc2hNaXJyb3IuYWRkKHRoaXMubXNfV2F0ZXIpO1xuXHRcdGFNZXNoTWlycm9yLnJvdGF0aW9uLnggPSAtIE1hdGguUEkgKiAwLjU7XG5cdFx0dGhpcy5tc19TY2VuZS5hZGQoYU1lc2hNaXJyb3IpO1xuXHRcblx0XHQvL0xvYWQgb2JqZWN0c1x0XG5cdFx0dGhpcy5sb2FkU2t5Qm94KCk7XG5cdFx0dGhpcy5sb2FkR2xhY2llcnMoMSwgMTAwMCwgMjAwLCAuMSk7XG5cdFx0dGhpcy5sb2FkR2xhY2llcnMoMiwgOTAwLCAtMTAwMCwgLjIpO1xuXHRcdHRoaXMubG9hZEdsYWNpZXJzKDIsIDE1MDAsIC0zMDAwLCAuMyk7XG5cdFx0Zm9yICh2YXIgeCA9IDM7IHggPiAwOyB4LS0pIHtcblx0XHRcdHRoaXMubG9hZEljZSh4LCAxMDAwLCAwLCAxKTtcblx0XHRcdHRoaXMubG9hZEljZSh4LCA0MDAsIHggKiAyMDAsIHgpO1xuXHRcdFx0dGhpcy5sb2FkSWNlKHgsIDIwMDAsIHggKiA2MDAsIDEpO1xuXHRcdFx0dGhpcy5sb2FkSWNlKHgsIDIwMDAsIHggKiAtNzAwLCAxKTtcblx0XHRcdHRoaXMubG9hZEljZSh4LCA4MDAsIHggKiAtODAwLCAxLjQpO1xuXHRcdH1cblx0XHR0aGlzLmxvYWRDYXQoKTtcblx0XHQvLyB0aGlzLmxvYWRTbm93KGluUGFyYW1ldGVycyk7XG5cblx0XHQvL0xpc3RlbiBmb3IgdHJpZ2dlclxuXHRcdGNvbnN0IG1vdW50YWlucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3VudGFpbnMnKTtcblx0XHRjb25zdCBwYXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF3Jyk7XG5cdFx0cGF3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5oYW5kbGVCdXR0b24oKTtcblx0XHR9KTtcblx0XHRtb3VudGFpbnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHR0aGlzLm1zX1RlcnJhaW4uY2FsbGJhY2soKTtcblx0XHR9KTtcblx0XHR0aGlzLmhhbmRsZUtleURvd24oKTtcblxuXHRcdC8vQXVkaW9cblx0XHRsZXQgaGFwcHlIb2xpZGF5cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dlbGNvbWUtc2NyZWVuJylbMF0uY2xvbmVOb2RlKHRydWUpO1xuXHRcdGhhcHB5SG9saWRheXMuY2xhc3NOYW1lICs9ICcgY2xvc2luZy1zY3JlZW4nO1xuXHRcdGhhcHB5SG9saWRheXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2gyJylbMF0udGV4dENvbnRlbnQgPSAnSGFwcHkgSG9saWRheXNcXG4nICtcblx0XHRcdCdmcm9tIEJyb29rbHluIFVuaXRlZCArIEJyb29rbHluIERpZ2l0YWwgRm91bmRyeSc7XG5cdFx0aGFwcHlIb2xpZGF5cy5nZXRFbGVtZW50c0J5VGFnTmFtZSgncCcpWzBdLnRleHRDb250ZW50ID0gJ1RoaXMgaXMgYW4gZXhwZXJpbWVudGFsICcgK1xuXHRcdFx0J2NvbGxhYm9yYXRpb24gYmV0d2VlbiB0aGUgdmlzdWFsaXphdGlvbiB3aXphcmRzIGF0IEJyb29rbHluIERpZ2l0YWwgJytcblx0XHRcdCdGb3VuZHJ5IGFuZCB0aGUgZGVzaWduIGFuZCBkZXZlbG9wbWVudCB0ZWFtcyBhdCBCcm9va2x5biBVbml0ZWQuICcrXG5cdFx0XHQnVXNpbmcgV2ViR0wgYW5kIGEgbGl0dGxlIGJpdCBvZiBob2xpZGF5IG1hZ2ljLCB3ZSBqb2luZWQgZm9yY2VzIHRvICcrXG5cdFx0XHQnd2hpcCB1cCBhIHNjZW5lIGZvciB5b3UgdG8gZW5qb3kgYW5kIHNoYXJlIHdpdGggeW91ciBmcmllbmRzLic7XG5cdFx0bGV0IGF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcblx0ICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcblx0ICBzb3VyY2Uuc3JjID0gJ2Fzc2V0cy9zb3VuZHMvVmlzYWdlcl8tXzE5Xy1fVmlsbGFnZV9EcmVhbWluZ19Mb29wLm1wMyc7XG5cdCAgYXVkaW8ubG9vcCA9IGZhbHNlO1xuXHQgIGF1ZGlvLmFwcGVuZENoaWxkKHNvdXJjZSk7XG5cdCAgYXVkaW8ucGxheSgpO1xuXHQgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKGUpID0+IHtcblx0ICBcdGNvbnNvbGUubG9nKCdlbmRlZCcpO1xuXHQgIFx0ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndWktY29udGFpbmVyJylbMF0uYXBwZW5kQ2hpbGQoaGFwcHlIb2xpZGF5cyk7XG5cdCAgfSk7XG5cblx0ICAvL2FsbG93IHpvb21cblx0ICBzZXRUaW1lb3V0KCgpPT57XG5cdCAgXHRyZWFkeSA9IHRydWU7XG5cdCAgfSwgNzUwMCk7XG5cdH1cblx0bG9hZFNreUJveCgpIHtcblx0XHRsZXQgc2t5VGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2Fzc2V0cy9pbWcvZ3JhZGllbnRfMDMuanBnJyk7XG5cdFx0c2t5VGV4dHVyZS53cmFwUyA9IHNreVRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcblx0XHRza3lUZXh0dXJlLnJlcGVhdC5zZXQoIDMsIDMgKTtcblx0XHRza3lUZXh0dXJlLmZvcm1hdCA9IFRIUkVFLlJHQkZvcm1hdDtcblxuXHRcdGxldCBhU2hhZGVyID0gVEhSRUUuU2hhZGVyTGliWydwaG9uZyddO1xuXHRcdGFTaGFkZXIudW5pZm9ybXNbJ21hcCddLnZhbHVlID0gc2t5VGV4dHVyZTtcblxuXHRcdC8vIHZhciBhU2t5Qm94TWF0ZXJpYWwgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe1xuXHRcdCAgLy8gZnJhZ21lbnRTaGFkZXI6IGFTaGFkZXIuZnJhZ21lbnRTaGFkZXIsXG5cdFx0ICAvLyB2ZXJ0ZXhTaGFkZXI6IGFTaGFkZXIudmVydGV4U2hhZGVyLFxuXHRcdCAgLy8gdW5pZm9ybXM6IGFTaGFkZXIudW5pZm9ybXMsXG5cdFx0Ly8gICBkZXB0aFdyaXRlOiBmYWxzZSxcblx0XHQvLyAgIHNpZGU6IFRIUkVFLkJhY2tTaWRlXG5cdFx0Ly8gfSk7XG5cblx0XHR2YXIgYVNreWJveCA9IG5ldyBUSFJFRS5NZXNoKFxuXHRcdCAgbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDEwMDAwLCAzMiwgMzIpLFxuXHRcdCAgbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcblx0XHQgIFx0XHRtYXA6IHNreVRleHR1cmUsXG5cdFx0XHRcdFx0c2lkZTogVEhSRUUuQmFja1NpZGUsXG5cdFx0XHRcdFx0dmVydGV4Q29sb3JzOiBUSFJFRS5GYWNlQ29sb3JzLFxuXHRcdFx0XHRcdHNoYWRpbmc6IFRIUkVFLlNtb290aFNoYWRpbmdcblx0XHRcdFx0fSlcblx0XHQpO1xuXHRcdFxuXHRcdHRoaXMubXNfU2NlbmUuYWRkKGFTa3lib3gpO1xuXHR9XG5cdGxvYWRUZXJyYWluKGluUGFyYW1ldGVycykge1xuXHRcdHZhciB0ZXJyYWluR2VvID0gVEVSUkFJTkdFTi5HZXQoaW5QYXJhbWV0ZXJzKTtcblx0XHR2YXIgaWNlVGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2Fzc2V0cy9pbWcvdGV4dHVyZV8wMDEuanBnJyk7XG5cdFx0dmFyIHRlcnJhaW5NYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IFxuXHRcdFx0bWFwOiBpY2VUZXh0dXJlLCBcblx0XHRcdHNoYWRpbmc6IFRIUkVFLkZsYXRTaGFkaW5nLCBcblx0XHRcdHNpZGU6IFRIUkVFLkRvdWJsZVNpZGUsXG5cdFx0XHRjb2xvcjogbmV3IFRIUkVFLkNvbG9yKCAweENDQ0NFRSApXG5cdFx0fSk7XG5cdFx0dGhpcy5tc19UZXJyYWluID0gbmV3IFRIUkVFLk1lc2godGVycmFpbkdlbywgdGVycmFpbk1hdGVyaWFsKTtcblx0XHR0aGlzLm1zX1RlcnJhaW4ucG9zaXRpb24ueSA9IC0gaW5QYXJhbWV0ZXJzLmRlcHRoICogMjtcblx0XHR0aGlzLm1zX1RlcnJhaW4ucG9zaXRpb24ueiA9IC00MDAwO1xuXHRcdHRoaXMubXNfVGVycmFpbi5jYWxsYmFjayA9ICgpID0+IHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHRoaXMubXNfVGVycmFpbi5wb3NpdGlvbi55KTtcblx0XHRcdGlmICh0aGlzLm1zX1RlcnJhaW4ucG9zaXRpb24ueSA8PSAtaW5QYXJhbWV0ZXJzLmRlcHRoKSB7XG5cdFx0XHRcdHJlZHVjaW5nID0gZmFsc2U7XG5cdFx0XHRcdHRoaXMubXNfU2NlbmUucmVtb3ZlKHRoaXMubXNfVGVycmFpbik7XG5cdFx0XHRcdHRoaXMubG9hZFRlcnJhaW4oaW5QYXJhbWV0ZXJzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlZHVjaW5nID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gdGhpcy5tc19DbGlja2FibGUucHVzaCh0aGlzLm1zX1RlcnJhaW4pO1xuXHRcdHRoaXMubXNfU2NlbmUuYWRkKHRoaXMubXNfVGVycmFpbik7XG5cdH1cblx0bG9hZEdsYWNpZXJzKGluZGV4LCB6LCB4LCBzY2FsZSkge1xuXHRcdHZhciBvYmpMb2FkZXIgPSBuZXcgVEhSRUUuT0JKTG9hZGVyKCk7XG5cdFx0dmFyIG1zX1NjZW5lID0gdGhpcy5tc19TY2VuZTtcblx0XHR2YXIgaWNlVGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2Fzc2V0cy9pbWcvdGV4dHVyZV8wMDEuanBnJyk7XG5cdFx0b2JqTG9hZGVyLmxvYWQoYGFzc2V0cy9sYW5kc2NhcGVfYXNzZXRzL2dsYWNpZXJfMCR7aW5kZXh9Lm9iamAsIGZ1bmN0aW9uKGdsYWNpZXIpIHtcblx0XHRcdFx0Ly9sb2FkIGljZSB0ZXh0dXJlXG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTxnbGFjaWVyLmNoaWxkcmVuLmxlbmd0aDtpKysgKXtcblx0XHRcdFx0XHRnbGFjaWVyLmNoaWxkcmVuW2ldLmdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuXHRcdFx0XHRcdGdsYWNpZXIuY2hpbGRyZW5baV0uZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnZ2xhY2llcicsIGdsYWNpZXIpO1xuXHRcdFx0XHRcdGdsYWNpZXIuY2hpbGRyZW5baV0ubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuXHRcdFx0ICBcdFx0bWFwOiBpY2VUZXh0dXJlLFxuXHRcdFx0XHRcdFx0c2hhZGluZzogVEhSRUUuRmxhdFNoYWRpbmcsXG5cdFx0XHRcdFx0XHRjb2xvcjogbmV3IFRIUkVFLkNvbG9yKCAweENDQ0NFRSApLFxuXHRcdFx0XHRcdFx0c2lkZTogVEhSRUUuRG91YmxlU2lkZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGdsYWNpZXIucG9zaXRpb24ueiA9IHo7XG5cdFx0XHRcdGdsYWNpZXIucG9zaXRpb24ueCA9IHg7XG5cdFx0XHRcdGdsYWNpZXIuc2NhbGUuc2V0KHNjYWxlLHNjYWxlLHNjYWxlKTtcblx0XHRcdFx0bXNfU2NlbmUuYWRkKGdsYWNpZXIpO1xuXHRcdH0pO1xuXHR9XG5cdGxvYWRJY2UoaW5kZXgsIHosIHgsIHNjYWxlKSB7XG5cdFx0Y29uc3Qgb2JqTG9hZGVyID0gbmV3IFRIUkVFLk9CSkxvYWRlcigpO1xuXHRcdGNvbnN0IG1zX1NjZW5lID0gdGhpcy5tc19TY2VuZTtcblx0XHRjb25zdCBpY2VUZXh0dXJlID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSgnYXNzZXRzL2ltZy90ZXh0dXJlXzAwMS5qcGcnKTtcblx0XHRvYmpMb2FkZXIubG9hZChgYXNzZXRzL2xhbmRzY2FwZV9hc3NldHMvZmxvZV8wJHtpbmRleH0ub2JqYCwgZ2xhY2llciA9PiB7XG5cdFx0XHRcdC8vbG9hZCBpY2UgdGV4dHVyZVxuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8Z2xhY2llci5jaGlsZHJlbi5sZW5ndGg7aSsrICl7XG5cdFx0XHRcdFx0Y29uc3QgZ2VvbWV0cnkgPSBnbGFjaWVyLmNoaWxkcmVuW2ldLmdlb21ldHJ5O1xuXHRcdFx0XHRcdGdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscygpO1xuXHRcdFx0XHRcdGdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG5cdFx0XHRcdFx0Z2xhY2llci5jaGlsZHJlbltpXS5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygnaWNlJywgZ2xhY2llcik7c291cmNlXG5cdFx0XHRcdFx0Ly8gTU9VTlRBSU5TX0NPTE9SUy5BcHBseShnZW9tZXRyeSwgdGhpcy5tc19QYXJhbWV0ZXJzKTtcblx0XHRcdFx0XHRnbGFjaWVyLmNoaWxkcmVuW2ldLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcblx0XHRcdCAgXHRcdG1hcDogaWNlVGV4dHVyZSxcblx0XHRcdFx0XHRcdHNoYWRpbmc6IFRIUkVFLkZsYXRTaGFkaW5nLFxuXHRcdFx0XHRcdFx0Y29sb3I6IG5ldyBUSFJFRS5Db2xvciggMHhDQ0NDRUUgKVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGdsYWNpZXIucG9zaXRpb24ueiA9IHo7XG5cdFx0XHRcdGdsYWNpZXIucG9zaXRpb24ueCA9IHg7XG5cdFx0XHRcdGdsYWNpZXIucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cdFx0XHRcdGdsYWNpZXIuc2NhbGUuc2V0KHNjYWxlLDgsc2NhbGUpO1xuXHRcdFx0XHRtc19TY2VuZS5hZGQoZ2xhY2llcik7XG5cdFx0fSk7XG5cdH1cblx0bG9hZFNub3coaW5QYXJhbWV0ZXJzKSB7XG5cdFx0Y29uc3QgcmFuZCA9IHYgPT4ge1xuXHRcdFx0cmV0dXJuICh2ICogKE1hdGgucmFuZG9tKCkgLSAwLjUpKTtcblx0XHR9XG5cdFx0Y29uc3QgdGV4dHVyZSA9IFRIUkVFLlRleHR1cmVMb2FkZXIoJ2Fzc2V0cy9pbWcvc25vd2ZsYWtlLnBuZycpO1xuXHRcdGxldCBudW1QYXJ0aWNsZXMgPSAxMDAwMDA7XG5cdFx0bGV0IHdpZHRoID0gaW5QYXJhbWV0ZXJzLndpZHRoO1xuXHRcdGxldCBoZWlnaHQgPSBpblBhcmFtZXRlcnMuaGVpZ2h0LzM7XG5cdFx0bGV0IGRlcHRoID0gMTAwMDA7XG5cdFx0bGV0IHBhcmFtZXRlcnMgPSB7XG5cdFx0XHRcdGNvbG9yOiAweEZGRkZGRixcblx0XHRcdFx0aGVpZ2h0OiA4MDAwMCxcblx0XHRcdFx0cmFkaXVzWDogMTAsXG5cdFx0XHRcdHJhZGl1c1o6IDEwLFxuXHRcdFx0XHRzaXplOiAxMDAsXG5cdFx0XHRcdHNjYWxlOiAxLjAsXG5cdFx0XHRcdG9wYWNpdHk6IDAuOCxcblx0XHRcdFx0c3BlZWRIOiAuMSxcblx0XHRcdFx0c3BlZWRWOiAuMVxuXHRcdFx0fTtcblx0XHRcdGxldCBzeXN0ZW1HZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuXHRcdFx0bGV0IHN5c3RlbU1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcblx0XHRcdFx0dW5pZm9ybXM6IHtcblx0XHRcdFx0XHRjb2xvcjogIHsgdHlwZTogJ2MnLCB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKCBwYXJhbWV0ZXJzLmNvbG9yICkgfSxcblx0XHRcdFx0XHRoZWlnaHQ6IHsgdHlwZTogJ2YnLCB2YWx1ZTogcGFyYW1ldGVycy5oZWlnaHQgfSxcblx0XHRcdFx0XHRlbGFwc2VkVGltZTogeyB0eXBlOiAnZicsIHZhbHVlOiAwIH0sXG5cdFx0XHRcdFx0cmFkaXVzWDogeyB0eXBlOiAnZicsIHZhbHVlOiBwYXJhbWV0ZXJzLnJhZGl1c1ggfSxcblx0XHRcdFx0XHRyYWRpdXNaOiB7IHR5cGU6ICdmJywgdmFsdWU6IHBhcmFtZXRlcnMucmFkaXVzWiB9LFxuXHRcdFx0XHRcdHNpemU6IHsgdHlwZTogJ2YnLCB2YWx1ZTogcGFyYW1ldGVycy5zaXplIH0sXG5cdFx0XHRcdFx0c2NhbGU6IHsgdHlwZTogJ2YnLCB2YWx1ZTogcGFyYW1ldGVycy5zY2FsZSB9LFxuXHRcdFx0XHRcdHRleHR1cmU6IHsgdHlwZTogJ3QnLCB2YWx1ZTogdGV4dHVyZSB9LFxuXHRcdFx0XHRcdG9wYWNpdHk6IHsgdHlwZTogJ2YnLCB2YWx1ZTogcGFyYW1ldGVycy5vcGFjaXR5IH0sXG5cdFx0XHRcdFx0c3BlZWRIOiB7IHR5cGU6ICdmJywgdmFsdWU6IHBhcmFtZXRlcnMuc3BlZWRIIH0sXG5cdFx0XHRcdFx0c3BlZWRWOiB7IHR5cGU6ICdmJywgdmFsdWU6IHBhcmFtZXRlcnMuc3BlZWRWIH1cblx0XHRcdFx0fSxcblx0XHRcdFx0dmVydGV4U2hhZGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3N0ZXAwN192cycgKS50ZXh0Q29udGVudCxcblx0XHRcdFx0ZnJhZ21lbnRTaGFkZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnc3RlcDA5X2ZzJyApLnRleHRDb250ZW50LFxuXHRcdFx0XHRibGVuZGluZzogVEhSRUUuQWRkaXRpdmVCbGVuZGluZyxcblx0XHRcdFx0dHJhbnNwYXJlbnQ6IHRydWUsXG5cdFx0XHRcdGRlcHRoVGVzdDogZmFsc2Vcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0Zm9yKCB2YXIgaSA9IDA7IGkgPCBudW1QYXJ0aWNsZXM7IGkrKyApIHtcblx0XHRcdHZhciB2ZXJ0ZXggPSBuZXcgVEhSRUUuVmVjdG9yMyhcblx0XHRcdFx0XHRyYW5kKCB3aWR0aCApLFxuXHRcdFx0XHRcdE1hdGgucmFuZG9tKCkgKiBoZWlnaHQsXG5cdFx0XHRcdFx0cmFuZCggZGVwdGggKVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRzeXN0ZW1HZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKCB2ZXJ0ZXggKTtcblx0XHR9XG5cblxuXHRcdHRoaXMubXNfcGFydGljbGVTeXN0ZW0gPSBuZXcgVEhSRUUuUG9pbnRzKCBzeXN0ZW1HZW9tZXRyeSwgc3lzdGVtTWF0ZXJpYWwgKTtcblx0XHR0aGlzLm1zX3BhcnRpY2xlU3lzdGVtLnBvc2l0aW9uLnkgPSAtaGVpZ2h0LzI7XG5cdFx0dGhpcy5tc19TY2VuZS5hZGQoIHRoaXMubXNfcGFydGljbGVTeXN0ZW0gKTtcblx0fVxuXHRsb2FkQ2F0KCkge1xuXHRcdGNvbnN0IGpzb25Mb2FkZXIgPSBuZXcgVEhSRUUuSlNPTkxvYWRlcigpO1xuXHRcdGpzb25Mb2FkZXIubG9hZCggXCJhc3NldHMvanMvY2F0X2FuaW1hdGVkLmpzXCIsICAoIGdlb21ldHJ5LCBtYXRlcmlhbHMgKSA9PiB7XG5cdFx0XHR0aGlzLmxvYWRBbmltYXRpb24oIGdlb21ldHJ5LCBtYXRlcmlhbHMsIDAsIDMwLCAxMDAwLCAxNSwgdGhpcy5tc19TY2VuZSwgXCJhc3NldHMvaW1nL2NhdF9kaWZmdXNlLmpwZ1wiICk7XG5cdFx0fSk7XG5cdFx0anNvbkxvYWRlci5sb2FkKCBcImFzc2V0cy9qcy9jYXRfYW5pbWF0ZWRfaGF0LmpzXCIsICAoIGdlb21ldHJ5LCBtYXRlcmlhbHMgKSAgPT4ge1xuXHRcdFx0dGhpcy5sb2FkQW5pbWF0aW9uKCBnZW9tZXRyeSwgbWF0ZXJpYWxzLCAwLCAzMCwgMTAwMCwgMTUsIHRoaXMubXNfU2NlbmUsIFwiYXNzZXRzL2ltZy9oYXRfZGlmZnVzZS5qcGdcIiApO1xuXHRcdH0pO1xuXHR9XG5cdGxvYWRBbmltYXRpb24oIGdlb21ldHJ5LCBtYXRlcmlhbHMsIHgsIHksIHosIHMsIHNjZW5lLCB0ZXh0dXJlICkge1xuXHRcdGxldCBtaXhlcjtcblx0XHRjb25zdCBvYmpUZXh0dXJlID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSh0ZXh0dXJlKTtcblx0XHRnZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgXHQvLyBnZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuICBcdGdlb21ldHJ5LmR5bmFtaWMgPSB0cnVlXG5cdFx0Z2VvbWV0cnkuX19kaXJ0eVZlcnRpY2VzID0gdHJ1ZTtcblx0XHRnZW9tZXRyeS5fX2RpcnR5Tm9ybWFscyA9IHRydWU7XG5cblx0XHQvL0ZsaXAgbm9ybWFsc1xuXHRcdGZvcih2YXIgaSA9IDA7IGk8Z2VvbWV0cnkuZmFjZXMubGVuZ3RoOyBpKyspIHtcblx0XHQgICAgZ2VvbWV0cnkuZmFjZXNbaV0ubm9ybWFsLnggPSAtMSpnZW9tZXRyeS5mYWNlc1tpXS5ub3JtYWwueDtcblx0XHQgICAgZ2VvbWV0cnkuZmFjZXNbaV0ubm9ybWFsLnkgPSAtMSpnZW9tZXRyeS5mYWNlc1tpXS5ub3JtYWwueTtcblx0XHQgICAgZ2VvbWV0cnkuZmFjZXNbaV0ubm9ybWFsLnogPSAtMSpnZW9tZXRyeS5mYWNlc1tpXS5ub3JtYWwuejtcblx0XHR9XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBtYXRlcmlhbHMubGVuZ3RoOyBpICsrICkge1xuXHRcdFx0bGV0IG0gPSBtYXRlcmlhbHNbaV07XG5cdFx0XHRtLnNraW5uaW5nID0gdHJ1ZTtcblx0XHRcdG0uc2hhZGluZyA9IFRIUkVFLkZsYXRTaGFkaW5nO1xuXHRcdFx0bS5zaGluaW5lc3MgPSAxMDA7XG5cdFx0XHRtLm1hcCA9IG9ialRleHR1cmU7XG5cdFx0XHRtLmNvbG9yID0gbmV3IFRIUkVFLkNvbG9yKCAweGJiYmJiYiApO1xuXHRcdFx0bS52ZXJ0ZXhDb2xvcnMgPSBUSFJFRS5GYWNlQ29sb3JzO1xuXHRcdH1cblx0XHRcblx0XHRsZXQgY2F0X21lc2ggPSBuZXcgVEhSRUUuU2tpbm5lZE1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbHNbMF0pO1xuXHRcdC8vIGNhdF9tZXNoLnJvdGF0aW9uLnggPSBNYXRoLlBJICogLS41O1xuXHRcdGNhdF9tZXNoLnBvc2l0aW9uLnNldCggeCwgeSwgeiApO1xuXHRcdGNhdF9tZXNoLnNjYWxlLnNldCggcywgcywgcyApO1xuXHRcdGNhdF9tZXNoLmNhc3RTaGFkb3cgPSB0cnVlO1xuXHRcdGNhdF9tZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXHRcdHNjZW5lLmFkZCggY2F0X21lc2ggKTtcblxuXHRcdGxldCBjbGlwQm9uZXMgPSBnZW9tZXRyeS5hbmltYXRpb25zWzBdO1xuXHRcdGxldCBib25lQWN0aW9uID0gbmV3IFRIUkVFLkFuaW1hdGlvbkFjdGlvbiggY2xpcEJvbmVzICk7XG5cdFx0Ym9uZUFjdGlvbi5sb29wID0gVEhSRUUuTG9vcE9uY2U7XG5cdFx0Ym9uZUFjdGlvbi5sb29wQ291bnQgPSAxO1xuXHRcdGJvbmVBY3Rpb24uYWN0aW9uVGltZSA9IDI7XG5cdFx0bWl4ZXIgPSBuZXcgVEhSRUUuQW5pbWF0aW9uTWl4ZXIoIGNhdF9tZXNoICk7XG5cdFx0bWl4ZXIuYWRkQWN0aW9uKCBib25lQWN0aW9uICk7XG5cdFx0bWl4ZXJzLnB1c2gobWl4ZXIpO1xuXHR9XG5cdGRpc3BsYXkoKSB7XG5cdFx0dGhpcy5tc19XYXRlci5yZW5kZXIoKTtcblx0XHR0aGlzLm1zX1JlbmRlcmVyLnJlbmRlcih0aGlzLm1zX1NjZW5lLCB0aGlzLm1zX0NhbWVyYSk7XG5cdH1cblx0aW5pdGlhbFpvb20oKSB7XG5cdFx0bGV0IGZvdiA9IHRoaXMubXNfQ2FtZXJhLmZvdjtcblx0XHRsZXQgem9vbSA9IHRoaXMubXNfQ2FtZXJhLnpvb207XG5cdFx0Y29uc3QgaW5jID0gMC4wMTtcblx0XHRpZiAoem9vbSA8IDIpIHtcblx0XHRcdHRoaXMubXNfQ2FtZXJhLnpvb20gKz0gaW5jO1xuXHQgICAgdGhpcy5tc19DYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZWFkeSA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXHR1cGRhdGUoKSB7XG5cdFx0Y29uc3QgaW5QYXJhbWV0ZXJzID0gdGhpcy5tc19QYXJhbWV0ZXJzO1xuXHRcdHRoaXMubXNfV2F0ZXIubWF0ZXJpYWwudW5pZm9ybXMudGltZS52YWx1ZSArPSAxLjAgLyA2MC4wO1xuXG5cdFx0aWYgKHJlZHVjaW5nKSB7XG5cdFx0XHR0aGlzLm1zX1RlcnJhaW4ucG9zaXRpb24ueSAtPSAyMDtcblx0XHRcdHRoaXMubXNfVGVycmFpbi5jYWxsYmFjaygpO1xuXHRcdH1cblx0XHRpZiAoKHRoaXMubXNfVGVycmFpbi5wb3NpdGlvbi55IDwgLWluUGFyYW1ldGVycy5kZXB0aCAqIDAuNSkgJiYgIXJlZHVjaW5nKSB7XG5cdFx0XHR0aGlzLm1zX1RlcnJhaW4ucG9zaXRpb24ueSArPSAyMDtcblx0XHR9XG5cdFx0bGV0IGRlbHRhID0gY2xvY2suZ2V0RGVsdGEoKTtcblx0XHRsZXQgZWxhcHNlZFRpbWUgPSBjbG9jay5nZXRFbGFwc2VkVGltZSgpO1xuXG5cdFx0aWYodGhpcy5tc19wYXJ0aWNsZVN5c3RlbSkge1xuXHRcdFx0dGhpcy5tc19wYXJ0aWNsZVN5c3RlbS5tYXRlcmlhbC51bmlmb3Jtcy5lbGFwc2VkVGltZS52YWx1ZSA9IGVsYXBzZWRUaW1lICogMTA7XG5cdFx0fVxuXG5cdFx0aWYoIG1peGVycy5sZW5ndGggKSB7XG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8bWl4ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdG1peGVyc1tpXS51cGRhdGUoZGVsdGEpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAocmVhZHkpIHRoaXMuaW5pdGlhbFpvb20oKTtcblx0XHR0aGlzLm1zX0NvbnRyb2xzLnVwZGF0ZSgpO1xuXHRcdHRoaXMuZGlzcGxheSgpO1xuXHR9XG5cdGhhbmRsZUJ1dHRvbigpIHtcblx0XHRwdXNoZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGk9MDsgaTxtaXhlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGZvciAodmFyIHk9MDt5PG1peGVyc1tpXS5hY3Rpb25zLmxlbmd0aDt5KyspIHtcblx0XHRcdFx0bWl4ZXJzW2ldLmFjdGlvbnNbeV0uZW5hYmxlZCA9IHRydWU7XG5cdFx0XHRcdG1peGVyc1tpXS5hY3Rpb25zW3ldLmxvb3BDb3VudCA9IDA7XG5cdFx0XHRcdG1peGVyc1tpXS5hY3Rpb25zW3ldLmxvb3AgPSBUSFJFRS5Mb29wT25jZTtcblx0XHRcdFx0bWl4ZXJzW2ldLmFjdGlvbnNbeV0uYWN0aW9uVGltZSA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGhhbmRsZUtleURvd24oKSB7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuXHRcdFx0c3dpdGNoIChlLmtleUNvZGUpIHtcblx0XHRcdFx0Y2FzZSA2OTpcblx0XHRcdFx0XHR0aGlzLm1zX1RlcnJhaW4uY2FsbGJhY2soKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSA4Nzpcblx0XHRcdFx0Y2FzZSA4MTpcblx0XHRcdFx0XHR0aGlzLmhhbmRsZUJ1dHRvbigpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdHJlc2l6ZShpbldpZHRoLCBpbkhlaWdodCkge1xuXHRcdHRoaXMubXNfQ2FtZXJhLmFzcGVjdCA9ICBpbldpZHRoIC8gaW5IZWlnaHQ7XG5cdFx0dGhpcy5tc19DYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuXHRcdHRoaXMubXNfUmVuZGVyZXIuc2V0U2l6ZShpbldpZHRoLCBpbkhlaWdodCk7XG5cdFx0dGhpcy5tc19DYW52YXMuaHRtbCh0aGlzLm1zX1JlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXHRcdHRoaXMuZGlzcGxheSgpO1xuXHR9XG59O1xuXG5jb25zdCBERU1PID0gbmV3IERlbW87XG5cbmZ1bmN0aW9uIG1haW5Mb29wKCkge1xuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApO1xuXHRERU1PLnVwZGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBvbkRvY3VtZW50TW91c2VEb3duKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgbW91c2UgPSBuZXcgVEhSRUUuVmVjdG9yMihcbiAgICAgICAgKCBldmVudC5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGggKSAqIDIgLSAxLCBcbiAgICAgICAgLSAoIGV2ZW50LmNsaWVudFkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKSAqIDIgKyAxICk7XG5cbiAgICBERU1PLm1zX1JheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKCBtb3VzZSwgREVNTy5tc19DYW1lcmEgKTtcbiAgICB2YXIgaW50ZXJzZWN0cyA9IERFTU8ubXNfUmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoIERFTU8ubXNfQ2xpY2thYmxlICk7ICAgIFxuXG4gICAgaWYgKGludGVyc2VjdHMubGVuZ3RoID4gMCkgeyAgXG4gICAgICAgIGludGVyc2VjdHNbMF0ub2JqZWN0LmNhbGxiYWNrKCk7XG4gICAgfSAgICAgICAgICAgICAgICBcbn1cblxuJChmdW5jdGlvbigpIHtcblx0V0lORE9XLmluaXRpYWxpemUoKTtcblxuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uRG9jdW1lbnRNb3VzZURvd24sIGZhbHNlKTtcblx0XG5cdHZhciBwYXJhbWV0ZXJzID0ge1xuXHRcdGFsZWE6IFJBTkRfTVQsXG5cdFx0Z2VuZXJhdG9yOiBQTl9HRU5FUkFUT1IsXG5cdFx0d2lkdGg6IDIwMDAwLFxuXHRcdGhlaWdodDogMTQwMDAsXG5cdFx0d2lkdGhTZWdtZW50czogMTIwLFxuXHRcdGhlaWdodFNlZ21lbnRzOiAxMjAsXG5cdFx0ZGVwdGg6IDMwMDAsXG5cdFx0cGFyYW06IDkuMixcblx0XHRmaWx0ZXJwYXJhbTogLjEsXG5cdFx0ZmlsdGVyOiBbIENJUkNMRV9GSUxURVIgXSxcblx0XHRwb3N0Z2VuOiBbIE1PVU5UQUlOU19DT0xPUlMgXSxcblx0XHRlZmZlY3Q6IFsgREVTVFJVQ1RVUkVfRUZGRUNUIF1cblx0fTtcblx0XG5cdERFTU8uaW5pdGlhbGl6ZSgnY2FudmFzLTNkJywgcGFyYW1ldGVycyk7XG5cdFxuXHRXSU5ET1cucmVzaXplQ2FsbGJhY2sgPSBmdW5jdGlvbihpbldpZHRoLCBpbkhlaWdodCkgeyBERU1PLnJlc2l6ZShpbldpZHRoLCBpbkhlaWdodCk7IH07XG5cdERFTU8ucmVzaXplKFdJTkRPVy5tc19XaWR0aCwgV0lORE9XLm1zX0hlaWdodCk7XG5cdFxuXHRtYWluTG9vcCgpO1xuXG5cdC8vQ1NTIGFuaW1hdGlvbnNcblxuXHRjb25zdCB3ZWxjb21lID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnd2VsY29tZS1zY3JlZW4nKVswXTtcblx0d2VsY29tZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuXHRcdHdlbGNvbWUuY2xhc3NOYW1lICs9ICcgZmFkZS1vdXQnO1xuXHRcdHNldFRpbWVvdXQoKCk9Pntcblx0XHRcdHdlbGNvbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh3ZWxjb21lKTtcblx0XHR9LCAzNTApO1xuXHR9KTtcbn0pOyJdfQ==
