(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

let animation,
    helpers = [],
    mixers = [],
    pushed = false;
let clock = new THREE.Clock();
let ready = false;
let reducing = false;
let isFrameStepping = false;
let timeToStep = 0;

class Demo {
	constructor() {
		this.ms_Canvas = null;
		this.ms_Renderer = null;
		this.ms_Camera = null;
		this.ms_Scene = null;
		this.ms_Controls = null;
		this.ms_Water = null;
		this.ms_Terrain = null;
		this.ms_Raycaster = null;
		this.ms_Clickable = [];
		this.ms_Parameters = null;
		this.ms_particleSystem = null;
	}
	enable() {
		try {
			var aCanvas = document.createElement('canvas');
			return !!window.WebGLRenderingContext && (aCanvas.getContext('webgl') || aCanvas.getContext('experimental-webgl'));
		} catch (e) {
			return false;
		}
	}
	initialize(inIdCanvas, inParameters) {
		this.ms_Canvas = $('#' + inIdCanvas);
		this.ms_Parameters = inParameters;
		// Initialize Renderer, Camera, Projector and Scene
		this.ms_Renderer = this.enable ? new THREE.WebGLRenderer({ antialias: true }) : new THREE.CanvasRenderer();
		this.ms_Canvas.html(this.ms_Renderer.domElement);
		this.ms_Scene = new THREE.Scene();
		this.ms_Camera = new THREE.PerspectiveCamera(45.0, WINDOW.ms_Width / WINDOW.ms_Height, 0.5, 3000000);
		this.ms_Camera.position.set(.2, -Math.max(inParameters.width * 1.5, inParameters.height) / 8, inParameters.height);
		this.ms_Camera.lookAt(new THREE.Vector3(0, 0, 0));

		this.ms_Raycaster = new THREE.Raycaster();

		// Initialize Orbit control		
		this.ms_Controls = new THREE.OrbitControls(this.ms_Camera, this.ms_Renderer.domElement);
		this.ms_Controls.userPan = false;
		this.ms_Controls.userPanSpeed = 0.0;
		this.ms_Controls.maxDistance = 4000.0;
		this.ms_Controls.enableKeys = false;
		this.ms_Controls.maxPolarAngle = Math.PI * .495;
		this.ms_Controls.minPolarAngle = .5;
		this.ms_Controls.maxAzimuthAngle = 1;
		this.ms_Controls.minAzimuthAngle = -1;

		// Add light

		var ambient = new THREE.AmbientLight(0x888888);
		this.ms_Scene.add(ambient);
		//Left Light
		var directionalLight = new THREE.DirectionalLight(0x888888, .9);
		directionalLight.position.set(-600, 300, 600);
		this.ms_Scene.add(directionalLight);
		//Right light
		var directionalLight2 = new THREE.DirectionalLight(0x888888, .8);
		directionalLight2.position.set(600, 800, 600);
		this.ms_Scene.add(directionalLight2);
		//Bottom Light
		var directionalLight3 = new THREE.DirectionalLight(0x888888, .15);
		directionalLight3.position.set(0, 0, 1000);
		this.ms_Scene.add(directionalLight3);
		//Back Light
		var directionalLight4 = new THREE.DirectionalLight(0x77D0FF, .5);
		directionalLight4.position.set(0, 600, -600);
		this.ms_Scene.add(directionalLight4);

		// Create terrain
		this.loadTerrain(inParameters);

		// Load textures		
		var waterNormals = new THREE.ImageUtils.loadTexture('../assets/img/waternormals.jpg');
		waterNormals.wrapS = waterNormals.wrapT = THREE.SphericalReflectionMapping;

		// Create the water effect
		this.ms_Water = new THREE.Water(this.ms_Renderer, this.ms_Camera, this.ms_Scene, {
			textureWidth: 512,
			textureHeight: 512,
			waterNormals: waterNormals,
			alpha: 1.0,
			sunDirection: directionalLight.position.normalize(),
			sunColor: 0xFFFFFF,
			waterColor: 0x8F81A1,
			distortionScale: 20.0
		});
		var aMeshMirror = new THREE.Mesh(new THREE.PlaneBufferGeometry(inParameters.width * 500, inParameters.height * 500, 10, 10), this.ms_Water.material);
		aMeshMirror.add(this.ms_Water);
		aMeshMirror.rotation.x = -Math.PI * 0.5;
		this.ms_Scene.add(aMeshMirror);

		//Load objects	
		this.loadSkyBox();
		this.loadGlaciers(1, 1000, 200, .1);
		this.loadGlaciers(2, 900, -1000, .2);
		this.loadGlaciers(2, 1500, -3000, .3);
		for (var x = 3; x > 0; x--) {
			this.loadIce(x, 1000, 0, 1);
			this.loadIce(x, 400, x * 200, x);
			this.loadIce(x, 2000, x * 600, 1);
			this.loadIce(x, 2000, x * -700, 1);
			this.loadIce(x, 800, x * -800, 1.4);
		}
		this.loadCat();
		// this.loadSnow(inParameters);

		//Listen for trigger
		const mountains = document.getElementById('mountains');
		const paw = document.getElementById('paw');
		paw.addEventListener('click', () => {
			this.handleButton();
		});
		mountains.addEventListener('click', () => {
			this.ms_Terrain.callback();
		});
		this.handleKeyDown();

		//Audio
		let happyHolidays = document.getElementsByClassName('welcome-screen')[0].cloneNode(true);
		happyHolidays.className += ' closing-screen';
		happyHolidays.getElementsByTagName('h2')[0].textContent = 'Happy Holidays\n' + 'from Brooklyn United + Brooklyn Digital Foundry';
		happyHolidays.getElementsByTagName('p')[0].textContent = 'This is an experimental ' + 'collaboration between the visualization wizards at Brooklyn Digital ' + 'Foundry and the design and development teams at Brooklyn United. ' + 'Using WebGL and a little bit of holiday magic, we joined forces to ' + 'whip up a scene for you to enjoy and share with your friends.';
		const startButton = happyHolidays.getElementsByClassName('start-button')[0];
		// happyHolidays.removeChild(startButton);
		let audio = document.createElement('audio');
		const source = document.createElement('source');
		source.src = 'assets/sounds/Visager_-_19_-_Village_Dreaming_Loop.mp3';
		audio.loop = false;
		audio.appendChild(source);
		audio.play();
		audio.addEventListener('ended', e => {
			console.log('ended');
			document.getElementsByClassName('ui-container')[0].appendChild(happyHolidays);
		});

		//allow zoom
		setTimeout(() => {
			ready = true;
		}, 7500);
	}
	loadSkyBox() {
		let skyTexture = THREE.ImageUtils.loadTexture('assets/img/gradient_03.jpg');
		skyTexture.wrapS = skyTexture.wrapT = THREE.RepeatWrapping;
		skyTexture.repeat.set(3, 3);
		skyTexture.format = THREE.RGBFormat;

		let aShader = THREE.ShaderLib['phong'];
		aShader.uniforms['map'].value = skyTexture;

		// var aSkyBoxMaterial = new THREE.ShaderMaterial({
		// fragmentShader: aShader.fragmentShader,
		// vertexShader: aShader.vertexShader,
		// uniforms: aShader.uniforms,
		//   depthWrite: false,
		//   side: THREE.BackSide
		// });

		var aSkybox = new THREE.Mesh(new THREE.SphereGeometry(10000, 32, 32), new THREE.MeshPhongMaterial({
			map: skyTexture,
			side: THREE.BackSide,
			vertexColors: THREE.FaceColors,
			shading: THREE.SmoothShading
		}));

		this.ms_Scene.add(aSkybox);
	}
	loadTerrain(inParameters) {
		var terrainGeo = TERRAINGEN.Get(inParameters);
		var iceTexture = THREE.ImageUtils.loadTexture('assets/img/texture_001.jpg');
		var terrainMaterial = new THREE.MeshPhongMaterial({
			map: iceTexture,
			shading: THREE.FlatShading,
			side: THREE.DoubleSide,
			color: new THREE.Color(0xCCCCEE)
		});
		this.ms_Terrain = new THREE.Mesh(terrainGeo, terrainMaterial);
		this.ms_Terrain.position.y = -inParameters.depth;
		this.ms_Terrain.position.z = -4000;
		this.ms_Terrain.callback = () => {
			// console.log(this.ms_Terrain.position.y);
			if (this.ms_Terrain.position.y <= -inParameters.depth) {
				reducing = false;
				this.ms_Scene.remove(this.ms_Terrain);
				this.loadTerrain(inParameters);
			} else {
				reducing = true;
			}
		};
		// this.ms_Clickable.push(this.ms_Terrain);
		this.ms_Scene.add(this.ms_Terrain);
	}
	loadGlaciers(index, z, x, scale) {
		var objLoader = new THREE.OBJLoader();
		var ms_Scene = this.ms_Scene;
		var iceTexture = THREE.ImageUtils.loadTexture('assets/img/texture_001.jpg');
		objLoader.load(`assets/landscape_assets/glacier_0${ index }.obj`, function (glacier) {
			//load ice texture
			for (var i = 0; i < glacier.children.length; i++) {
				glacier.children[i].geometry.computeFaceNormals();
				glacier.children[i].geometry.computeVertexNormals();
				console.log('glacier', glacier);
				glacier.children[i].material = new THREE.MeshPhongMaterial({
					map: iceTexture,
					shading: THREE.FlatShading,
					color: new THREE.Color(0xCCCCEE),
					side: THREE.DoubleSide
				});
			}
			glacier.position.z = z;
			glacier.position.x = x;
			glacier.scale.set(scale, scale, scale);
			ms_Scene.add(glacier);
		});
	}
	loadIce(index, z, x, scale) {
		const objLoader = new THREE.OBJLoader();
		const ms_Scene = this.ms_Scene;
		const iceTexture = THREE.ImageUtils.loadTexture('assets/img/texture_001.jpg');
		objLoader.load(`assets/landscape_assets/floe_0${ index }.obj`, glacier => {
			//load ice texture
			for (var i = 0; i < glacier.children.length; i++) {
				const geometry = glacier.children[i].geometry;
				geometry.computeFaceNormals();
				geometry.computeVertexNormals();
				glacier.children[i].receiveShadow = true;
				// console.log('ice', glacier);source
				// MOUNTAINS_COLORS.Apply(geometry, this.ms_Parameters);
				glacier.children[i].material = new THREE.MeshPhongMaterial({
					map: iceTexture,
					shading: THREE.FlatShading,
					color: new THREE.Color(0xCCCCEE)
				});
			}
			glacier.position.z = z;
			glacier.position.x = x;
			glacier.receiveShadow = true;
			glacier.scale.set(scale, 8, scale);
			ms_Scene.add(glacier);
		});
	}
	loadSnow(inParameters) {
		const rand = v => {
			return v * (Math.random() - 0.5);
		};
		const texture = THREE.TextureLoader('assets/img/snowflake.png');
		let numParticles = 100000;
		let width = inParameters.width;
		let height = inParameters.height / 3;
		let depth = 10000;
		let parameters = {
			color: 0xFFFFFF,
			height: 80000,
			radiusX: 10,
			radiusZ: 10,
			size: 100,
			scale: 1.0,
			opacity: 0.8,
			speedH: .1,
			speedV: .1
		};
		let systemGeometry = new THREE.Geometry();
		let systemMaterial = new THREE.ShaderMaterial({
			uniforms: {
				color: { type: 'c', value: new THREE.Color(parameters.color) },
				height: { type: 'f', value: parameters.height },
				elapsedTime: { type: 'f', value: 0 },
				radiusX: { type: 'f', value: parameters.radiusX },
				radiusZ: { type: 'f', value: parameters.radiusZ },
				size: { type: 'f', value: parameters.size },
				scale: { type: 'f', value: parameters.scale },
				texture: { type: 't', value: texture },
				opacity: { type: 'f', value: parameters.opacity },
				speedH: { type: 'f', value: parameters.speedH },
				speedV: { type: 'f', value: parameters.speedV }
			},
			vertexShader: document.getElementById('step07_vs').textContent,
			fragmentShader: document.getElementById('step09_fs').textContent,
			blending: THREE.AdditiveBlending,
			transparent: true,
			depthTest: false
		});

		for (var i = 0; i < numParticles; i++) {
			var vertex = new THREE.Vector3(rand(width), Math.random() * height, rand(depth));

			systemGeometry.vertices.push(vertex);
		}

		this.ms_particleSystem = new THREE.Points(systemGeometry, systemMaterial);
		this.ms_particleSystem.position.y = -height / 2;
		this.ms_Scene.add(this.ms_particleSystem);
	}
	loadCat() {
		const jsonLoader = new THREE.JSONLoader();
		jsonLoader.load("assets/js/cat_animated.js", (geometry, materials) => {
			this.loadAnimation(geometry, materials, 0, 30, 1000, 15, this.ms_Scene, "assets/img/cat_diffuse.jpg");
		});
		jsonLoader.load("assets/js/cat_animated_hat.js", (geometry, materials) => {
			this.loadAnimation(geometry, materials, 0, 30, 1000, 15, this.ms_Scene, "assets/img/hat_diffuse.jpg");
		});
	}
	loadAnimation(geometry, materials, x, y, z, s, scene, texture) {
		let mixer;
		const objTexture = THREE.ImageUtils.loadTexture(texture);
		geometry.computeFaceNormals();
		// geometry.computeVertexNormals();
		geometry.dynamic = true;
		geometry.__dirtyVertices = true;
		geometry.__dirtyNormals = true;

		//Flip normals
		for (var i = 0; i < geometry.faces.length; i++) {
			geometry.faces[i].normal.x = -1 * geometry.faces[i].normal.x;
			geometry.faces[i].normal.y = -1 * geometry.faces[i].normal.y;
			geometry.faces[i].normal.z = -1 * geometry.faces[i].normal.z;
		}

		for (let i = 0; i < materials.length; i++) {
			let m = materials[i];
			m.skinning = true;
			m.shading = THREE.FlatShading;
			m.shininess = 100;
			m.map = objTexture;
			m.color = new THREE.Color(0xbbbbbb);
			m.vertexColors = THREE.FaceColors;
		}

		let cat_mesh = new THREE.SkinnedMesh(geometry, materials[0]);
		// cat_mesh.rotation.x = Math.PI * -.5;
		cat_mesh.position.set(x, y, z);
		cat_mesh.scale.set(s, s, s);
		cat_mesh.castShadow = true;
		cat_mesh.receiveShadow = true;
		scene.add(cat_mesh);

		let clipBones = geometry.animations[0];
		let boneAction = new THREE.AnimationAction(clipBones);
		boneAction.loop = THREE.LoopOnce;
		boneAction.loopCount = 1;
		boneAction.actionTime = 2;
		mixer = new THREE.AnimationMixer(cat_mesh);
		mixer.addAction(boneAction);
		mixers.push(mixer);
	}
	display() {
		this.ms_Water.render();
		this.ms_Renderer.render(this.ms_Scene, this.ms_Camera);
	}
	initialZoom() {
		let fov = this.ms_Camera.fov;
		let zoom = this.ms_Camera.zoom;
		const inc = 0.01;
		if (zoom < 2) {
			this.ms_Camera.zoom += inc;
			this.ms_Camera.updateProjectionMatrix();
		} else {
			ready = false;
		}
	}
	update() {
		const inParameters = this.ms_Parameters;
		this.ms_Water.material.uniforms.time.value += 1.0 / 60.0;

		if (reducing) {
			this.ms_Terrain.position.y -= 20;
			this.ms_Terrain.callback();
		}
		if (this.ms_Terrain.position.y < -inParameters.depth * 0.5 && !reducing) {
			this.ms_Terrain.position.y += 20;
		}
		let delta = clock.getDelta();
		let elapsedTime = clock.getElapsedTime();

		if (this.ms_particleSystem) {
			this.ms_particleSystem.material.uniforms.elapsedTime.value = elapsedTime * 10;
		}

		if (mixers.length) {
			for (var i = 0; i < mixers.length; i++) {
				mixers[i].update(delta);
			}
		}
		if (ready) this.initialZoom();
		this.ms_Controls.update();
		this.display();
	}
	handleButton() {
		pushed = true;
		for (var i = 0; i < mixers.length; i++) {
			for (var y = 0; y < mixers[i].actions.length; y++) {
				mixers[i].actions[y].enabled = true;
				mixers[i].actions[y].loopCount = 0;
				mixers[i].actions[y].loop = THREE.LoopOnce;
				mixers[i].actions[y].actionTime = 0;
			}
		}
	}
	handleKeyDown() {
		document.addEventListener('keydown', e => {
			switch (e.keyCode) {
				case 69:
					this.ms_Terrain.callback();
					break;
				case 87:
				case 81:
					this.handleButton();
					break;
				default:
					break;
			}
		});
	}
	resize(inWidth, inHeight) {
		this.ms_Camera.aspect = inWidth / inHeight;
		this.ms_Camera.updateProjectionMatrix();
		this.ms_Renderer.setSize(inWidth, inHeight);
		this.ms_Canvas.html(this.ms_Renderer.domElement);
		this.display();
	}
};

const DEMO = new Demo();

function mainLoop() {
	requestAnimationFrame(mainLoop);
	DEMO.update();
}

function onDocumentMouseDown(event) {
	event.preventDefault();
	var mouse = new THREE.Vector2(event.clientX / window.innerWidth * 2 - 1, -(event.clientY / window.innerHeight) * 2 + 1);

	DEMO.ms_Raycaster.setFromCamera(mouse, DEMO.ms_Camera);
	var intersects = DEMO.ms_Raycaster.intersectObjects(DEMO.ms_Clickable);

	if (intersects.length > 0) {
		intersects[0].object.callback();
	}
}

$(function () {
	WINDOW.initialize();

	document.addEventListener('click', onDocumentMouseDown, false);

	var parameters = {
		alea: RAND_MT,
		generator: PN_GENERATOR,
		width: 20000,
		height: 14000,
		widthSegments: 120,
		heightSegments: 120,
		depth: 3000,
		param: 9.2,
		filterparam: .1,
		filter: [CIRCLE_FILTER],
		postgen: [MOUNTAINS_COLORS],
		effect: [DESTRUCTURE_EFFECT]
	};

	DEMO.initialize('canvas-3d', parameters);

	WINDOW.resizeCallback = function (inWidth, inHeight) {
		DEMO.resize(inWidth, inHeight);
	};
	DEMO.resize(WINDOW.ms_Width, WINDOW.ms_Height);

	mainLoop();

	//CSS animations

	const welcome = document.getElementsByClassName('welcome-screen')[0];
	welcome.addEventListener('click', e => {
		welcome.className += ' fade-out';
		setTimeout(() => {
			welcome.parentNode.removeChild(welcome);
		}, 350);
	});
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxZQUFZLENBQUM7O0FBRWIsSUFBSSxTQUFTO0lBQUUsT0FBTyxHQUFHLEVBQUU7SUFBRSxNQUFNLEdBQUcsRUFBRTtJQUFFLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDekQsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDOUIsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ2xCLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztBQUNyQixJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUM7QUFDNUIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDOztBQUluQixNQUFNLElBQUksQ0FBQztBQUNWLFlBQVcsR0FBRztBQUNiLE1BQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLE1BQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3hCLE1BQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLE1BQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3JCLE1BQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3hCLE1BQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3JCLE1BQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLE1BQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO0FBQ3pCLE1BQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCLE1BQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzFCLE1BQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7RUFDOUI7QUFDRCxPQUFNLEdBQUc7QUFDRixNQUFJO0FBQ0EsT0FBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztB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LEtBQUs7QUFDYixlQUFhLEVBQUUsR0FBRztBQUNsQixnQkFBYyxFQUFFLEdBQUc7QUFDbkIsT0FBSyxFQUFFLElBQUk7QUFDWCxPQUFLLEVBQUUsR0FBRztBQUNWLGFBQVcsRUFBRSxFQUFFO0FBQ2YsUUFBTSxFQUFFLENBQUUsYUFBYSxDQUFFO0FBQ3pCLFNBQU8sRUFBRSxDQUFFLGdCQUFnQixDQUFFO0FBQzdCLFFBQU0sRUFBRSxDQUFFLGtCQUFrQixDQUFFO0VBQzlCLENBQUM7O0FBRUYsS0FBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsVUFBVSxDQUFDLENBQUM7O0FBRXpDLE9BQU0sQ0FBQyxjQUFjLEdBQUcsVUFBUyxPQUFPLEVBQUUsUUFBUSxFQUFFO0FBQUUsTUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7RUFBRSxDQUFDO0FBQ3hGLEtBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRS9DLFNBQVEsRUFBRTs7OztBQUFDLEFBSVgsT0FBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLHNCQUFzQixDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckUsUUFBTyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUk7QUFDdEMsU0FBTyxDQUFDLFNBQVMsSUFBSSxXQUFXLENBQUM7QUFDakMsWUFBVSxDQUFDLE1BQUk7QUFDZCxVQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUN4QyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0VBQ1IsQ0FBQyxDQUFDO0NBQ0gsQ0FBQyxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlwidXNlIHN0cmljdFwiO1xuXG5sZXQgYW5pbWF0aW9uLCBoZWxwZXJzID0gW10sIG1peGVycyA9IFtdLCBwdXNoZWQgPSBmYWxzZTtcbmxldCBjbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xubGV0IHJlYWR5ID0gZmFsc2U7XG5sZXQgcmVkdWNpbmcgPSBmYWxzZTtcbmxldCBpc0ZyYW1lU3RlcHBpbmcgPSBmYWxzZTtcbmxldCB0aW1lVG9TdGVwID0gMDtcblxuXG5cbmNsYXNzIERlbW8ge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLm1zX0NhbnZhcyA9IG51bGw7XG5cdFx0dGhpcy5tc19SZW5kZXJlciA9IG51bGw7XG5cdFx0dGhpcy5tc19DYW1lcmEgPSBudWxsO1xuXHRcdHRoaXMubXNfU2NlbmUgPSBudWxsO1xuXHRcdHRoaXMubXNfQ29udHJvbHMgPSBudWxsO1xuXHRcdHRoaXMubXNfV2F0ZXIgPSBudWxsO1xuXHRcdHRoaXMubXNfVGVycmFpbiA9IG51bGw7XG5cdFx0dGhpcy5tc19SYXljYXN0ZXIgPSBudWxsO1xuXHRcdHRoaXMubXNfQ2xpY2thYmxlID0gW107XG5cdFx0dGhpcy5tc19QYXJhbWV0ZXJzID0gbnVsbDtcblx0XHR0aGlzLm1zX3BhcnRpY2xlU3lzdGVtID0gbnVsbDtcblx0fVxuXHRlbmFibGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgcmV0dXJuICEhIHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiYgKGFDYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBhQ2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICB9XG5cdGluaXRpYWxpemUoaW5JZENhbnZhcywgaW5QYXJhbWV0ZXJzKSB7XG5cdFx0dGhpcy5tc19DYW52YXMgPSAkKCcjJytpbklkQ2FudmFzKTtcblx0XHR0aGlzLm1zX1BhcmFtZXRlcnMgPSBpblBhcmFtZXRlcnM7XG5cdFx0Ly8gSW5pdGlhbGl6ZSBSZW5kZXJlciwgQ2FtZXJhLCBQcm9qZWN0b3IgYW5kIFNjZW5lXG5cdFx0dGhpcy5tc19SZW5kZXJlciA9IHRoaXMuZW5hYmxlID8gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBhbnRpYWxpYXM6IHRydWUgfSkgOiBuZXcgVEhSRUUuQ2FudmFzUmVuZGVyZXIoKTtcblx0XHR0aGlzLm1zX0NhbnZhcy5odG1sKHRoaXMubXNfUmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cdFx0dGhpcy5tc19TY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuXHRcdHRoaXMubXNfQ2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LjAsIFdJTkRPVy5tc19XaWR0aCAvIFdJTkRPVy5tc19IZWlnaHQsIDAuNSwgMzAwMDAwMCk7XG5cdFx0dGhpcy5tc19DYW1lcmEucG9zaXRpb24uc2V0KC4yLCAtTWF0aC5tYXgoaW5QYXJhbWV0ZXJzLndpZHRoICogMS41LCBpblBhcmFtZXRlcnMuaGVpZ2h0KSAvIDgsIGluUGFyYW1ldGVycy5oZWlnaHQpO1xuXHRcdHRoaXMubXNfQ2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XG5cblx0XHR0aGlzLm1zX1JheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcblx0XHRcblx0XHQvLyBJbml0aWFsaXplIE9yYml0IGNvbnRyb2xcdFx0XG5cdFx0dGhpcy5tc19Db250cm9scyA9IG5ldyBUSFJFRS5PcmJpdENvbnRyb2xzKHRoaXMubXNfQ2FtZXJhLCB0aGlzLm1zX1JlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXHRcdHRoaXMubXNfQ29udHJvbHMudXNlclBhbiA9IGZhbHNlO1xuXHRcdHRoaXMubXNfQ29udHJvbHMudXNlclBhblNwZWVkID0gMC4wO1xuXHRcdHRoaXMubXNfQ29udHJvbHMubWF4RGlzdGFuY2UgPSA0MDAwLjA7XG5cdFx0dGhpcy5tc19Db250cm9scy5lbmFibGVLZXlzID0gZmFsc2U7XG5cdFx0dGhpcy5tc19Db250cm9scy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSSAqIC40OTU7XG5cdFx0dGhpcy5tc19Db250cm9scy5taW5Qb2xhckFuZ2xlID0gLjU7XG5cdFx0dGhpcy5tc19Db250cm9scy5tYXhBemltdXRoQW5nbGUgPSAxO1xuXHRcdHRoaXMubXNfQ29udHJvbHMubWluQXppbXV0aEFuZ2xlID0gLTE7XG5cdFxuXHRcdC8vIEFkZCBsaWdodFxuXG5cdFx0dmFyIGFtYmllbnQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KCAweDg4ODg4OCk7XG5cdFx0dGhpcy5tc19TY2VuZS5hZGQoYW1iaWVudCk7XG5cdFx0Ly9MZWZ0IExpZ2h0XG5cdFx0dmFyIGRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweDg4ODg4OCwgLjkpO1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24uc2V0KC02MDAsIDMwMCwgNjAwKTtcblx0XHR0aGlzLm1zX1NjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0KTtcblx0XHQvL1JpZ2h0IGxpZ2h0XG5cdFx0dmFyIGRpcmVjdGlvbmFsTGlnaHQyID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHg4ODg4ODgsIC44KTtcblx0XHRkaXJlY3Rpb25hbExpZ2h0Mi5wb3NpdGlvbi5zZXQoNjAwLCA4MDAsIDYwMCk7XG5cdFx0dGhpcy5tc19TY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodDIpO1xuXHRcdC8vQm90dG9tIExpZ2h0XG5cdFx0dmFyIGRpcmVjdGlvbmFsTGlnaHQzID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHg4ODg4ODgsIC4xNSk7XG5cdFx0ZGlyZWN0aW9uYWxMaWdodDMucG9zaXRpb24uc2V0KDAsIDAsIDEwMDApO1xuXHRcdHRoaXMubXNfU2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHQzKTtcblx0XHQvL0JhY2sgTGlnaHRcblx0XHR2YXIgZGlyZWN0aW9uYWxMaWdodDQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweDc3RDBGRiwgLjUpO1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQ0LnBvc2l0aW9uLnNldCgwLCA2MDAsIC02MDApO1xuXHRcdHRoaXMubXNfU2NlbmUuYWRkKGRpcmVjdGlvbmFsTGlnaHQ0KTtcblx0XHRcblx0XHQvLyBDcmVhdGUgdGVycmFpblxuXHRcdHRoaXMubG9hZFRlcnJhaW4oaW5QYXJhbWV0ZXJzKTtcblx0XHRcblx0XHQvLyBMb2FkIHRleHR1cmVzXHRcdFxuXHRcdHZhciB3YXRlck5vcm1hbHMgPSBuZXcgVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSgnLi4vYXNzZXRzL2ltZy93YXRlcm5vcm1hbHMuanBnJyk7XG5cdFx0d2F0ZXJOb3JtYWxzLndyYXBTID0gd2F0ZXJOb3JtYWxzLndyYXBUID0gVEhSRUUuU3BoZXJpY2FsUmVmbGVjdGlvbk1hcHBpbmc7IFxuXHRcdFxuXHRcdC8vIENyZWF0ZSB0aGUgd2F0ZXIgZWZmZWN0XG5cdFx0dGhpcy5tc19XYXRlciA9IG5ldyBUSFJFRS5XYXRlcih0aGlzLm1zX1JlbmRlcmVyLCB0aGlzLm1zX0NhbWVyYSwgdGhpcy5tc19TY2VuZSwge1xuXHRcdFx0dGV4dHVyZVdpZHRoOiA1MTIsIFxuXHRcdFx0dGV4dHVyZUhlaWdodDogNTEyLFxuXHRcdFx0d2F0ZXJOb3JtYWxzOiB3YXRlck5vcm1hbHMsXG5cdFx0XHRhbHBoYTogXHQxLjAsXG5cdFx0XHRzdW5EaXJlY3Rpb246IGRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24ubm9ybWFsaXplKCksXG5cdFx0XHRzdW5Db2xvcjogMHhGRkZGRkYsXG5cdFx0XHR3YXRlckNvbG9yOiAweDhGODFBMSxcblx0XHRcdGRpc3RvcnRpb25TY2FsZTogMjAuMFxuXHRcdH0pO1xuXHRcdHZhciBhTWVzaE1pcnJvciA9IG5ldyBUSFJFRS5NZXNoKFxuXHRcdFx0bmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoaW5QYXJhbWV0ZXJzLndpZHRoICogNTAwLCBpblBhcmFtZXRlcnMuaGVpZ2h0ICogNTAwLCAxMCwgMTApLCBcblx0XHRcdHRoaXMubXNfV2F0ZXIubWF0ZXJpYWxcblx0XHQpO1xuXHRcdGFNZXNoTWlycm9yLmFkZCh0aGlzLm1zX1dhdGVyKTtcblx0XHRhTWVzaE1pcnJvci5yb3RhdGlvbi54ID0gLSBNYXRoLlBJICogMC41O1xuXHRcdHRoaXMubXNfU2NlbmUuYWRkKGFNZXNoTWlycm9yKTtcblx0XG5cdFx0Ly9Mb2FkIG9iamVjdHNcdFxuXHRcdHRoaXMubG9hZFNreUJveCgpO1xuXHRcdHRoaXMubG9hZEdsYWNpZXJzKDEsIDEwMDAsIDIwMCwgLjEpO1xuXHRcdHRoaXMubG9hZEdsYWNpZXJzKDIsIDkwMCwgLTEwMDAsIC4yKTtcblx0XHR0aGlzLmxvYWRHbGFjaWVycygyLCAxNTAwLCAtMzAwMCwgLjMpO1xuXHRcdGZvciAodmFyIHggPSAzOyB4ID4gMDsgeC0tKSB7XG5cdFx0XHR0aGlzLmxvYWRJY2UoeCwgMTAwMCwgMCwgMSk7XG5cdFx0XHR0aGlzLmxvYWRJY2UoeCwgNDAwLCB4ICogMjAwLCB4KTtcblx0XHRcdHRoaXMubG9hZEljZSh4LCAyMDAwLCB4ICogNjAwLCAxKTtcblx0XHRcdHRoaXMubG9hZEljZSh4LCAyMDAwLCB4ICogLTcwMCwgMSk7XG5cdFx0XHR0aGlzLmxvYWRJY2UoeCwgODAwLCB4ICogLTgwMCwgMS40KTtcblx0XHR9XG5cdFx0dGhpcy5sb2FkQ2F0KCk7XG5cdFx0Ly8gdGhpcy5sb2FkU25vdyhpblBhcmFtZXRlcnMpO1xuXG5cdFx0Ly9MaXN0ZW4gZm9yIHRyaWdnZXJcblx0XHRjb25zdCBtb3VudGFpbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW91bnRhaW5zJyk7XG5cdFx0Y29uc3QgcGF3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdycpO1xuXHRcdHBhdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMuaGFuZGxlQnV0dG9uKCk7XG5cdFx0fSk7XG5cdFx0bW91bnRhaW5zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5tc19UZXJyYWluLmNhbGxiYWNrKCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5oYW5kbGVLZXlEb3duKCk7XG5cblx0XHQvL0F1ZGlvXG5cdFx0bGV0IGhhcHB5SG9saWRheXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3ZWxjb21lLXNjcmVlbicpWzBdLmNsb25lTm9kZSh0cnVlKTtcblx0XHRoYXBweUhvbGlkYXlzLmNsYXNzTmFtZSArPSAnIGNsb3Npbmctc2NyZWVuJztcblx0XHRoYXBweUhvbGlkYXlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoMicpWzBdLnRleHRDb250ZW50ID0gJ0hhcHB5IEhvbGlkYXlzXFxuJyArXG5cdFx0XHQnZnJvbSBCcm9va2x5biBVbml0ZWQgKyBCcm9va2x5biBEaWdpdGFsIEZvdW5kcnknO1xuXHRcdGhhcHB5SG9saWRheXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3AnKVswXS50ZXh0Q29udGVudCA9ICdUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCAnICtcblx0XHRcdCdjb2xsYWJvcmF0aW9uIGJldHdlZW4gdGhlIHZpc3VhbGl6YXRpb24gd2l6YXJkcyBhdCBCcm9va2x5biBEaWdpdGFsICcrXG5cdFx0XHQnRm91bmRyeSBhbmQgdGhlIGRlc2lnbiBhbmQgZGV2ZWxvcG1lbnQgdGVhbXMgYXQgQnJvb2tseW4gVW5pdGVkLiAnK1xuXHRcdFx0J1VzaW5nIFdlYkdMIGFuZCBhIGxpdHRsZSBiaXQgb2YgaG9saWRheSBtYWdpYywgd2Ugam9pbmVkIGZvcmNlcyB0byAnK1xuXHRcdFx0J3doaXAgdXAgYSBzY2VuZSBmb3IgeW91IHRvIGVuam95IGFuZCBzaGFyZSB3aXRoIHlvdXIgZnJpZW5kcy4nO1xuXHRcdGNvbnN0IHN0YXJ0QnV0dG9uID0gaGFwcHlIb2xpZGF5cy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFydC1idXR0b24nKVswXTtcblx0XHQvLyBoYXBweUhvbGlkYXlzLnJlbW92ZUNoaWxkKHN0YXJ0QnV0dG9uKTtcblx0XHRsZXQgYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuXHQgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXHQgIHNvdXJjZS5zcmMgPSAnYXNzZXRzL3NvdW5kcy9WaXNhZ2VyXy1fMTlfLV9WaWxsYWdlX0RyZWFtaW5nX0xvb3AubXAzJztcblx0ICBhdWRpby5sb29wID0gZmFsc2U7XG5cdCAgYXVkaW8uYXBwZW5kQ2hpbGQoc291cmNlKTtcblx0ICBhdWRpby5wbGF5KCk7XG5cdCAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoZSkgPT4ge1xuXHQgIFx0Y29uc29sZS5sb2coJ2VuZGVkJyk7XG5cdCAgXHRkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd1aS1jb250YWluZXInKVswXS5hcHBlbmRDaGlsZChoYXBweUhvbGlkYXlzKTtcblx0ICB9KTtcblxuXHQgIC8vYWxsb3cgem9vbVxuXHQgIHNldFRpbWVvdXQoKCk9Pntcblx0ICBcdHJlYWR5ID0gdHJ1ZTtcblx0ICB9LCA3NTAwKTtcblx0fVxuXHRsb2FkU2t5Qm94KCkge1xuXHRcdGxldCBza3lUZXh0dXJlID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSgnYXNzZXRzL2ltZy9ncmFkaWVudF8wMy5qcGcnKTtcblx0XHRza3lUZXh0dXJlLndyYXBTID0gc2t5VGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuXHRcdHNreVRleHR1cmUucmVwZWF0LnNldCggMywgMyApO1xuXHRcdHNreVRleHR1cmUuZm9ybWF0ID0gVEhSRUUuUkdCRm9ybWF0O1xuXG5cdFx0bGV0IGFTaGFkZXIgPSBUSFJFRS5TaGFkZXJMaWJbJ3Bob25nJ107XG5cdFx0YVNoYWRlci51bmlmb3Jtc1snbWFwJ10udmFsdWUgPSBza3lUZXh0dXJlO1xuXG5cdFx0Ly8gdmFyIGFTa3lCb3hNYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0ICAvLyBmcmFnbWVudFNoYWRlcjogYVNoYWRlci5mcmFnbWVudFNoYWRlcixcblx0XHQgIC8vIHZlcnRleFNoYWRlcjogYVNoYWRlci52ZXJ0ZXhTaGFkZXIsXG5cdFx0ICAvLyB1bmlmb3JtczogYVNoYWRlci51bmlmb3Jtcyxcblx0XHQvLyAgIGRlcHRoV3JpdGU6IGZhbHNlLFxuXHRcdC8vICAgc2lkZTogVEhSRUUuQmFja1NpZGVcblx0XHQvLyB9KTtcblxuXHRcdHZhciBhU2t5Ym94ID0gbmV3IFRIUkVFLk1lc2goXG5cdFx0ICBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMTAwMDAsIDMyLCAzMiksXG5cdFx0ICBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuXHRcdCAgXHRcdG1hcDogc2t5VGV4dHVyZSxcblx0XHRcdFx0XHRzaWRlOiBUSFJFRS5CYWNrU2lkZSxcblx0XHRcdFx0XHR2ZXJ0ZXhDb2xvcnM6IFRIUkVFLkZhY2VDb2xvcnMsXG5cdFx0XHRcdFx0c2hhZGluZzogVEhSRUUuU21vb3RoU2hhZGluZ1xuXHRcdFx0XHR9KVxuXHRcdCk7XG5cdFx0XG5cdFx0dGhpcy5tc19TY2VuZS5hZGQoYVNreWJveCk7XG5cdH1cblx0bG9hZFRlcnJhaW4oaW5QYXJhbWV0ZXJzKSB7XG5cdFx0dmFyIHRlcnJhaW5HZW8gPSBURVJSQUlOR0VOLkdldChpblBhcmFtZXRlcnMpO1xuXHRcdHZhciBpY2VUZXh0dXJlID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSgnYXNzZXRzL2ltZy90ZXh0dXJlXzAwMS5qcGcnKTtcblx0XHR2YXIgdGVycmFpbk1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgXG5cdFx0XHRtYXA6IGljZVRleHR1cmUsIFxuXHRcdFx0c2hhZGluZzogVEhSRUUuRmxhdFNoYWRpbmcsIFxuXHRcdFx0c2lkZTogVEhSRUUuRG91YmxlU2lkZSxcblx0XHRcdGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoIDB4Q0NDQ0VFIClcblx0XHR9KTtcblx0XHR0aGlzLm1zX1RlcnJhaW4gPSBuZXcgVEhSRUUuTWVzaCh0ZXJyYWluR2VvLCB0ZXJyYWluTWF0ZXJpYWwpO1xuXHRcdHRoaXMubXNfVGVycmFpbi5wb3NpdGlvbi55ID0gLSBpblBhcmFtZXRlcnMuZGVwdGg7XG5cdFx0dGhpcy5tc19UZXJyYWluLnBvc2l0aW9uLnogPSAtNDAwMDtcblx0XHR0aGlzLm1zX1RlcnJhaW4uY2FsbGJhY2sgPSAoKSA9PiB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLm1zX1RlcnJhaW4ucG9zaXRpb24ueSk7XG5cdFx0XHRpZiAodGhpcy5tc19UZXJyYWluLnBvc2l0aW9uLnkgPD0gLWluUGFyYW1ldGVycy5kZXB0aCkge1xuXHRcdFx0XHRyZWR1Y2luZyA9IGZhbHNlO1xuXHRcdFx0XHR0aGlzLm1zX1NjZW5lLnJlbW92ZSh0aGlzLm1zX1RlcnJhaW4pO1xuXHRcdFx0XHR0aGlzLmxvYWRUZXJyYWluKGluUGFyYW1ldGVycyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWR1Y2luZyA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIHRoaXMubXNfQ2xpY2thYmxlLnB1c2godGhpcy5tc19UZXJyYWluKTtcblx0XHR0aGlzLm1zX1NjZW5lLmFkZCh0aGlzLm1zX1RlcnJhaW4pO1xuXHR9XG5cdGxvYWRHbGFjaWVycyhpbmRleCwgeiwgeCwgc2NhbGUpIHtcblx0XHR2YXIgb2JqTG9hZGVyID0gbmV3IFRIUkVFLk9CSkxvYWRlcigpO1xuXHRcdHZhciBtc19TY2VuZSA9IHRoaXMubXNfU2NlbmU7XG5cdFx0dmFyIGljZVRleHR1cmUgPSBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKCdhc3NldHMvaW1nL3RleHR1cmVfMDAxLmpwZycpO1xuXHRcdG9iakxvYWRlci5sb2FkKGBhc3NldHMvbGFuZHNjYXBlX2Fzc2V0cy9nbGFjaWVyXzAke2luZGV4fS5vYmpgLCBmdW5jdGlvbihnbGFjaWVyKSB7XG5cdFx0XHRcdC8vbG9hZCBpY2UgdGV4dHVyZVxuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGk8Z2xhY2llci5jaGlsZHJlbi5sZW5ndGg7aSsrICl7XG5cdFx0XHRcdFx0Z2xhY2llci5jaGlsZHJlbltpXS5nZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcblx0XHRcdFx0XHRnbGFjaWVyLmNoaWxkcmVuW2ldLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2dsYWNpZXInLCBnbGFjaWVyKTtcblx0XHRcdFx0XHRnbGFjaWVyLmNoaWxkcmVuW2ldLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcblx0XHRcdCAgXHRcdG1hcDogaWNlVGV4dHVyZSxcblx0XHRcdFx0XHRcdHNoYWRpbmc6IFRIUkVFLkZsYXRTaGFkaW5nLFxuXHRcdFx0XHRcdFx0Y29sb3I6IG5ldyBUSFJFRS5Db2xvciggMHhDQ0NDRUUgKSxcblx0XHRcdFx0XHRcdHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRnbGFjaWVyLnBvc2l0aW9uLnogPSB6O1xuXHRcdFx0XHRnbGFjaWVyLnBvc2l0aW9uLnggPSB4O1xuXHRcdFx0XHRnbGFjaWVyLnNjYWxlLnNldChzY2FsZSxzY2FsZSxzY2FsZSk7XG5cdFx0XHRcdG1zX1NjZW5lLmFkZChnbGFjaWVyKTtcblx0XHR9KTtcblx0fVxuXHRsb2FkSWNlKGluZGV4LCB6LCB4LCBzY2FsZSkge1xuXHRcdGNvbnN0IG9iakxvYWRlciA9IG5ldyBUSFJFRS5PQkpMb2FkZXIoKTtcblx0XHRjb25zdCBtc19TY2VuZSA9IHRoaXMubXNfU2NlbmU7XG5cdFx0Y29uc3QgaWNlVGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2Fzc2V0cy9pbWcvdGV4dHVyZV8wMDEuanBnJyk7XG5cdFx0b2JqTG9hZGVyLmxvYWQoYGFzc2V0cy9sYW5kc2NhcGVfYXNzZXRzL2Zsb2VfMCR7aW5kZXh9Lm9iamAsIGdsYWNpZXIgPT4ge1xuXHRcdFx0XHQvL2xvYWQgaWNlIHRleHR1cmVcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpPGdsYWNpZXIuY2hpbGRyZW4ubGVuZ3RoO2krKyApe1xuXHRcdFx0XHRcdGNvbnN0IGdlb21ldHJ5ID0gZ2xhY2llci5jaGlsZHJlbltpXS5nZW9tZXRyeTtcblx0XHRcdFx0XHRnZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcblx0XHRcdFx0XHRnZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuXHRcdFx0XHRcdGdsYWNpZXIuY2hpbGRyZW5baV0ucmVjZWl2ZVNoYWRvdyA9IHRydWU7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ2ljZScsIGdsYWNpZXIpO3NvdXJjZVxuXHRcdFx0XHRcdC8vIE1PVU5UQUlOU19DT0xPUlMuQXBwbHkoZ2VvbWV0cnksIHRoaXMubXNfUGFyYW1ldGVycyk7XG5cdFx0XHRcdFx0Z2xhY2llci5jaGlsZHJlbltpXS5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7XG5cdFx0XHQgIFx0XHRtYXA6IGljZVRleHR1cmUsXG5cdFx0XHRcdFx0XHRzaGFkaW5nOiBUSFJFRS5GbGF0U2hhZGluZyxcblx0XHRcdFx0XHRcdGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoIDB4Q0NDQ0VFIClcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRnbGFjaWVyLnBvc2l0aW9uLnogPSB6O1xuXHRcdFx0XHRnbGFjaWVyLnBvc2l0aW9uLnggPSB4O1xuXHRcdFx0XHRnbGFjaWVyLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xuXHRcdFx0XHRnbGFjaWVyLnNjYWxlLnNldChzY2FsZSw4LHNjYWxlKTtcblx0XHRcdFx0bXNfU2NlbmUuYWRkKGdsYWNpZXIpO1xuXHRcdH0pO1xuXHR9XG5cdGxvYWRTbm93KGluUGFyYW1ldGVycykge1xuXHRcdGNvbnN0IHJhbmQgPSB2ID0+IHtcblx0XHRcdHJldHVybiAodiAqIChNYXRoLnJhbmRvbSgpIC0gMC41KSk7XG5cdFx0fVxuXHRcdGNvbnN0IHRleHR1cmUgPSBUSFJFRS5UZXh0dXJlTG9hZGVyKCdhc3NldHMvaW1nL3Nub3dmbGFrZS5wbmcnKTtcblx0XHRsZXQgbnVtUGFydGljbGVzID0gMTAwMDAwO1xuXHRcdGxldCB3aWR0aCA9IGluUGFyYW1ldGVycy53aWR0aDtcblx0XHRsZXQgaGVpZ2h0ID0gaW5QYXJhbWV0ZXJzLmhlaWdodC8zO1xuXHRcdGxldCBkZXB0aCA9IDEwMDAwO1xuXHRcdGxldCBwYXJhbWV0ZXJzID0ge1xuXHRcdFx0XHRjb2xvcjogMHhGRkZGRkYsXG5cdFx0XHRcdGhlaWdodDogODAwMDAsXG5cdFx0XHRcdHJhZGl1c1g6IDEwLFxuXHRcdFx0XHRyYWRpdXNaOiAxMCxcblx0XHRcdFx0c2l6ZTogMTAwLFxuXHRcdFx0XHRzY2FsZTogMS4wLFxuXHRcdFx0XHRvcGFjaXR5OiAwLjgsXG5cdFx0XHRcdHNwZWVkSDogLjEsXG5cdFx0XHRcdHNwZWVkVjogLjFcblx0XHRcdH07XG5cdFx0XHRsZXQgc3lzdGVtR2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcblx0XHRcdGxldCBzeXN0ZW1NYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG5cdFx0XHRcdHVuaWZvcm1zOiB7XG5cdFx0XHRcdFx0Y29sb3I6ICB7IHR5cGU6ICdjJywgdmFsdWU6IG5ldyBUSFJFRS5Db2xvciggcGFyYW1ldGVycy5jb2xvciApIH0sXG5cdFx0XHRcdFx0aGVpZ2h0OiB7IHR5cGU6ICdmJywgdmFsdWU6IHBhcmFtZXRlcnMuaGVpZ2h0IH0sXG5cdFx0XHRcdFx0ZWxhcHNlZFRpbWU6IHsgdHlwZTogJ2YnLCB2YWx1ZTogMCB9LFxuXHRcdFx0XHRcdHJhZGl1c1g6IHsgdHlwZTogJ2YnLCB2YWx1ZTogcGFyYW1ldGVycy5yYWRpdXNYIH0sXG5cdFx0XHRcdFx0cmFkaXVzWjogeyB0eXBlOiAnZicsIHZhbHVlOiBwYXJhbWV0ZXJzLnJhZGl1c1ogfSxcblx0XHRcdFx0XHRzaXplOiB7IHR5cGU6ICdmJywgdmFsdWU6IHBhcmFtZXRlcnMuc2l6ZSB9LFxuXHRcdFx0XHRcdHNjYWxlOiB7IHR5cGU6ICdmJywgdmFsdWU6IHBhcmFtZXRlcnMuc2NhbGUgfSxcblx0XHRcdFx0XHR0ZXh0dXJlOiB7IHR5cGU6ICd0JywgdmFsdWU6IHRleHR1cmUgfSxcblx0XHRcdFx0XHRvcGFjaXR5OiB7IHR5cGU6ICdmJywgdmFsdWU6IHBhcmFtZXRlcnMub3BhY2l0eSB9LFxuXHRcdFx0XHRcdHNwZWVkSDogeyB0eXBlOiAnZicsIHZhbHVlOiBwYXJhbWV0ZXJzLnNwZWVkSCB9LFxuXHRcdFx0XHRcdHNwZWVkVjogeyB0eXBlOiAnZicsIHZhbHVlOiBwYXJhbWV0ZXJzLnNwZWVkViB9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHZlcnRleFNoYWRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdzdGVwMDdfdnMnICkudGV4dENvbnRlbnQsXG5cdFx0XHRcdGZyYWdtZW50U2hhZGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3N0ZXAwOV9mcycgKS50ZXh0Q29udGVudCxcblx0XHRcdFx0YmxlbmRpbmc6IFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsXG5cdFx0XHRcdHRyYW5zcGFyZW50OiB0cnVlLFxuXHRcdFx0XHRkZXB0aFRlc3Q6IGZhbHNlXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdGZvciggdmFyIGkgPSAwOyBpIDwgbnVtUGFydGljbGVzOyBpKysgKSB7XG5cdFx0XHR2YXIgdmVydGV4ID0gbmV3IFRIUkVFLlZlY3RvcjMoXG5cdFx0XHRcdFx0cmFuZCggd2lkdGggKSxcblx0XHRcdFx0XHRNYXRoLnJhbmRvbSgpICogaGVpZ2h0LFxuXHRcdFx0XHRcdHJhbmQoIGRlcHRoIClcblx0XHRcdFx0KTtcblxuXHRcdFx0c3lzdGVtR2VvbWV0cnkudmVydGljZXMucHVzaCggdmVydGV4ICk7XG5cdFx0fVxuXG5cblx0XHR0aGlzLm1zX3BhcnRpY2xlU3lzdGVtID0gbmV3IFRIUkVFLlBvaW50cyggc3lzdGVtR2VvbWV0cnksIHN5c3RlbU1hdGVyaWFsICk7XG5cdFx0dGhpcy5tc19wYXJ0aWNsZVN5c3RlbS5wb3NpdGlvbi55ID0gLWhlaWdodC8yO1xuXHRcdHRoaXMubXNfU2NlbmUuYWRkKCB0aGlzLm1zX3BhcnRpY2xlU3lzdGVtICk7XG5cdH1cblx0bG9hZENhdCgpIHtcblx0XHRjb25zdCBqc29uTG9hZGVyID0gbmV3IFRIUkVFLkpTT05Mb2FkZXIoKTtcblx0XHRqc29uTG9hZGVyLmxvYWQoIFwiYXNzZXRzL2pzL2NhdF9hbmltYXRlZC5qc1wiLCAgKCBnZW9tZXRyeSwgbWF0ZXJpYWxzICkgPT4ge1xuXHRcdFx0dGhpcy5sb2FkQW5pbWF0aW9uKCBnZW9tZXRyeSwgbWF0ZXJpYWxzLCAwLCAzMCwgMTAwMCwgMTUsIHRoaXMubXNfU2NlbmUsIFwiYXNzZXRzL2ltZy9jYXRfZGlmZnVzZS5qcGdcIiApO1xuXHRcdH0pO1xuXHRcdGpzb25Mb2FkZXIubG9hZCggXCJhc3NldHMvanMvY2F0X2FuaW1hdGVkX2hhdC5qc1wiLCAgKCBnZW9tZXRyeSwgbWF0ZXJpYWxzICkgID0+IHtcblx0XHRcdHRoaXMubG9hZEFuaW1hdGlvbiggZ2VvbWV0cnksIG1hdGVyaWFscywgMCwgMzAsIDEwMDAsIDE1LCB0aGlzLm1zX1NjZW5lLCBcImFzc2V0cy9pbWcvaGF0X2RpZmZ1c2UuanBnXCIgKTtcblx0XHR9KTtcblx0fVxuXHRsb2FkQW5pbWF0aW9uKCBnZW9tZXRyeSwgbWF0ZXJpYWxzLCB4LCB5LCB6LCBzLCBzY2VuZSwgdGV4dHVyZSApIHtcblx0XHRsZXQgbWl4ZXI7XG5cdFx0Y29uc3Qgb2JqVGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUodGV4dHVyZSk7XG5cdFx0Z2VvbWV0cnkuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gIFx0Ly8gZ2VvbWV0cnkuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcbiAgXHRnZW9tZXRyeS5keW5hbWljID0gdHJ1ZVxuXHRcdGdlb21ldHJ5Ll9fZGlydHlWZXJ0aWNlcyA9IHRydWU7XG5cdFx0Z2VvbWV0cnkuX19kaXJ0eU5vcm1hbHMgPSB0cnVlO1xuXG5cdFx0Ly9GbGlwIG5vcm1hbHNcblx0XHRmb3IodmFyIGkgPSAwOyBpPGdlb21ldHJ5LmZhY2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIGdlb21ldHJ5LmZhY2VzW2ldLm5vcm1hbC54ID0gLTEqZ2VvbWV0cnkuZmFjZXNbaV0ubm9ybWFsLng7XG5cdFx0ICAgIGdlb21ldHJ5LmZhY2VzW2ldLm5vcm1hbC55ID0gLTEqZ2VvbWV0cnkuZmFjZXNbaV0ubm9ybWFsLnk7XG5cdFx0ICAgIGdlb21ldHJ5LmZhY2VzW2ldLm5vcm1hbC56ID0gLTEqZ2VvbWV0cnkuZmFjZXNbaV0ubm9ybWFsLno7XG5cdFx0fVxuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgbWF0ZXJpYWxzLmxlbmd0aDsgaSArKyApIHtcblx0XHRcdGxldCBtID0gbWF0ZXJpYWxzW2ldO1xuXHRcdFx0bS5za2lubmluZyA9IHRydWU7XG5cdFx0XHRtLnNoYWRpbmcgPSBUSFJFRS5GbGF0U2hhZGluZztcblx0XHRcdG0uc2hpbmluZXNzID0gMTAwO1xuXHRcdFx0bS5tYXAgPSBvYmpUZXh0dXJlO1xuXHRcdFx0bS5jb2xvciA9IG5ldyBUSFJFRS5Db2xvciggMHhiYmJiYmIgKTtcblx0XHRcdG0udmVydGV4Q29sb3JzID0gVEhSRUUuRmFjZUNvbG9ycztcblx0XHR9XG5cdFx0XG5cdFx0bGV0IGNhdF9tZXNoID0gbmV3IFRIUkVFLlNraW5uZWRNZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWxzWzBdKTtcblx0XHQvLyBjYXRfbWVzaC5yb3RhdGlvbi54ID0gTWF0aC5QSSAqIC0uNTtcblx0XHRjYXRfbWVzaC5wb3NpdGlvbi5zZXQoIHgsIHksIHogKTtcblx0XHRjYXRfbWVzaC5zY2FsZS5zZXQoIHMsIHMsIHMgKTtcblx0XHRjYXRfbWVzaC5jYXN0U2hhZG93ID0gdHJ1ZTtcblx0XHRjYXRfbWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcblx0XHRzY2VuZS5hZGQoIGNhdF9tZXNoICk7XG5cblx0XHRsZXQgY2xpcEJvbmVzID0gZ2VvbWV0cnkuYW5pbWF0aW9uc1swXTtcblx0XHRsZXQgYm9uZUFjdGlvbiA9IG5ldyBUSFJFRS5BbmltYXRpb25BY3Rpb24oIGNsaXBCb25lcyApO1xuXHRcdGJvbmVBY3Rpb24ubG9vcCA9IFRIUkVFLkxvb3BPbmNlO1xuXHRcdGJvbmVBY3Rpb24ubG9vcENvdW50ID0gMTtcblx0XHRib25lQWN0aW9uLmFjdGlvblRpbWUgPSAyO1xuXHRcdG1peGVyID0gbmV3IFRIUkVFLkFuaW1hdGlvbk1peGVyKCBjYXRfbWVzaCApO1xuXHRcdG1peGVyLmFkZEFjdGlvbiggYm9uZUFjdGlvbiApO1xuXHRcdG1peGVycy5wdXNoKG1peGVyKTtcblx0fVxuXHRkaXNwbGF5KCkge1xuXHRcdHRoaXMubXNfV2F0ZXIucmVuZGVyKCk7XG5cdFx0dGhpcy5tc19SZW5kZXJlci5yZW5kZXIodGhpcy5tc19TY2VuZSwgdGhpcy5tc19DYW1lcmEpO1xuXHR9XG5cdGluaXRpYWxab29tKCkge1xuXHRcdGxldCBmb3YgPSB0aGlzLm1zX0NhbWVyYS5mb3Y7XG5cdFx0bGV0IHpvb20gPSB0aGlzLm1zX0NhbWVyYS56b29tO1xuXHRcdGNvbnN0IGluYyA9IDAuMDE7XG5cdFx0aWYgKHpvb20gPCAyKSB7XG5cdFx0XHR0aGlzLm1zX0NhbWVyYS56b29tICs9IGluYztcblx0ICAgIHRoaXMubXNfQ2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVhZHkgPSBmYWxzZTtcblx0XHR9XG5cdH1cblx0dXBkYXRlKCkge1xuXHRcdGNvbnN0IGluUGFyYW1ldGVycyA9IHRoaXMubXNfUGFyYW1ldGVycztcblx0XHR0aGlzLm1zX1dhdGVyLm1hdGVyaWFsLnVuaWZvcm1zLnRpbWUudmFsdWUgKz0gMS4wIC8gNjAuMDtcblxuXHRcdGlmIChyZWR1Y2luZykge1xuXHRcdFx0dGhpcy5tc19UZXJyYWluLnBvc2l0aW9uLnkgLT0gMjA7XG5cdFx0XHR0aGlzLm1zX1RlcnJhaW4uY2FsbGJhY2soKTtcblx0XHR9XG5cdFx0aWYgKCh0aGlzLm1zX1RlcnJhaW4ucG9zaXRpb24ueSA8IC1pblBhcmFtZXRlcnMuZGVwdGggKiAwLjUpICYmICFyZWR1Y2luZykge1xuXHRcdFx0dGhpcy5tc19UZXJyYWluLnBvc2l0aW9uLnkgKz0gMjA7XG5cdFx0fVxuXHRcdGxldCBkZWx0YSA9IGNsb2NrLmdldERlbHRhKCk7XG5cdFx0bGV0IGVsYXBzZWRUaW1lID0gY2xvY2suZ2V0RWxhcHNlZFRpbWUoKTtcblxuXHRcdGlmKHRoaXMubXNfcGFydGljbGVTeXN0ZW0pIHtcblx0XHRcdHRoaXMubXNfcGFydGljbGVTeXN0ZW0ubWF0ZXJpYWwudW5pZm9ybXMuZWxhcHNlZFRpbWUudmFsdWUgPSBlbGFwc2VkVGltZSAqIDEwO1xuXHRcdH1cblxuXHRcdGlmKCBtaXhlcnMubGVuZ3RoICkge1xuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPG1peGVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRtaXhlcnNbaV0udXBkYXRlKGRlbHRhKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHJlYWR5KSB0aGlzLmluaXRpYWxab29tKCk7XG5cdFx0dGhpcy5tc19Db250cm9scy51cGRhdGUoKTtcblx0XHR0aGlzLmRpc3BsYXkoKTtcblx0fVxuXHRoYW5kbGVCdXR0b24oKSB7XG5cdFx0cHVzaGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBpPTA7IGk8bWl4ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRmb3IgKHZhciB5PTA7eTxtaXhlcnNbaV0uYWN0aW9ucy5sZW5ndGg7eSsrKSB7XG5cdFx0XHRcdG1peGVyc1tpXS5hY3Rpb25zW3ldLmVuYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRtaXhlcnNbaV0uYWN0aW9uc1t5XS5sb29wQ291bnQgPSAwO1xuXHRcdFx0XHRtaXhlcnNbaV0uYWN0aW9uc1t5XS5sb29wID0gVEhSRUUuTG9vcE9uY2U7XG5cdFx0XHRcdG1peGVyc1tpXS5hY3Rpb25zW3ldLmFjdGlvblRpbWUgPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRoYW5kbGVLZXlEb3duKCkge1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcblx0XHRcdHN3aXRjaCAoZS5rZXlDb2RlKSB7XG5cdFx0XHRcdGNhc2UgNjk6XG5cdFx0XHRcdFx0dGhpcy5tc19UZXJyYWluLmNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgODc6XG5cdFx0XHRcdGNhc2UgODE6XG5cdFx0XHRcdFx0dGhpcy5oYW5kbGVCdXR0b24oKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRyZXNpemUoaW5XaWR0aCwgaW5IZWlnaHQpIHtcblx0XHR0aGlzLm1zX0NhbWVyYS5hc3BlY3QgPSAgaW5XaWR0aCAvIGluSGVpZ2h0O1xuXHRcdHRoaXMubXNfQ2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblx0XHR0aGlzLm1zX1JlbmRlcmVyLnNldFNpemUoaW5XaWR0aCwgaW5IZWlnaHQpO1xuXHRcdHRoaXMubXNfQ2FudmFzLmh0bWwodGhpcy5tc19SZW5kZXJlci5kb21FbGVtZW50KTtcblx0XHR0aGlzLmRpc3BsYXkoKTtcblx0fVxufTtcblxuY29uc3QgREVNTyA9IG5ldyBEZW1vO1xuXG5mdW5jdGlvbiBtYWluTG9vcCgpIHtcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1haW5Mb29wKTtcblx0REVNTy51cGRhdGUoKTtcbn1cblxuZnVuY3Rpb24gb25Eb2N1bWVudE1vdXNlRG93bihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIG1vdXNlID0gbmV3IFRIUkVFLlZlY3RvcjIoXG4gICAgICAgICggZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoICkgKiAyIC0gMSwgXG4gICAgICAgIC0gKCBldmVudC5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0ICkgKiAyICsgMSApO1xuXG4gICAgREVNTy5tc19SYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSggbW91c2UsIERFTU8ubXNfQ2FtZXJhICk7XG4gICAgdmFyIGludGVyc2VjdHMgPSBERU1PLm1zX1JheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKCBERU1PLm1zX0NsaWNrYWJsZSApOyAgICBcblxuICAgIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHsgIFxuICAgICAgICBpbnRlcnNlY3RzWzBdLm9iamVjdC5jYWxsYmFjaygpO1xuICAgIH0gICAgICAgICAgICAgICAgXG59XG5cbiQoZnVuY3Rpb24oKSB7XG5cdFdJTkRPVy5pbml0aWFsaXplKCk7XG5cblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkRvY3VtZW50TW91c2VEb3duLCBmYWxzZSk7XG5cdFxuXHR2YXIgcGFyYW1ldGVycyA9IHtcblx0XHRhbGVhOiBSQU5EX01ULFxuXHRcdGdlbmVyYXRvcjogUE5fR0VORVJBVE9SLFxuXHRcdHdpZHRoOiAyMDAwMCxcblx0XHRoZWlnaHQ6IDE0MDAwLFxuXHRcdHdpZHRoU2VnbWVudHM6IDEyMCxcblx0XHRoZWlnaHRTZWdtZW50czogMTIwLFxuXHRcdGRlcHRoOiAzMDAwLFxuXHRcdHBhcmFtOiA5LjIsXG5cdFx0ZmlsdGVycGFyYW06IC4xLFxuXHRcdGZpbHRlcjogWyBDSVJDTEVfRklMVEVSIF0sXG5cdFx0cG9zdGdlbjogWyBNT1VOVEFJTlNfQ09MT1JTIF0sXG5cdFx0ZWZmZWN0OiBbIERFU1RSVUNUVVJFX0VGRkVDVCBdXG5cdH07XG5cdFxuXHRERU1PLmluaXRpYWxpemUoJ2NhbnZhcy0zZCcsIHBhcmFtZXRlcnMpO1xuXHRcblx0V0lORE9XLnJlc2l6ZUNhbGxiYWNrID0gZnVuY3Rpb24oaW5XaWR0aCwgaW5IZWlnaHQpIHsgREVNTy5yZXNpemUoaW5XaWR0aCwgaW5IZWlnaHQpOyB9O1xuXHRERU1PLnJlc2l6ZShXSU5ET1cubXNfV2lkdGgsIFdJTkRPVy5tc19IZWlnaHQpO1xuXHRcblx0bWFpbkxvb3AoKTtcblxuXHQvL0NTUyBhbmltYXRpb25zXG5cblx0Y29uc3Qgd2VsY29tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dlbGNvbWUtc2NyZWVuJylbMF07XG5cdHdlbGNvbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcblx0XHR3ZWxjb21lLmNsYXNzTmFtZSArPSAnIGZhZGUtb3V0Jztcblx0XHRzZXRUaW1lb3V0KCgpPT57XG5cdFx0XHR3ZWxjb21lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod2VsY29tZSk7XG5cdFx0fSwgMzUwKTtcblx0fSk7XG59KTsiXX0=
